"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[210],{7210:function(t,e,s){s.r(e),s.d(e,{default:function(){return ct}});var i=s(3396),l=s(7139);const c={class:"container-fluid"},a={class:"row justify-content-center align-items-center bg-gray mt-5"},n=(0,i._)("div",{class:"coupon-container bg-nav text-theme text-center d-flex align-items-center justify-content-center mt-lg-4 mt-md-2",style:{height:"50px"}},[(0,i._)("div",{class:"coupon-content"},"現在輸入優惠碼：95%  享有95折優惠")],-1),o={class:"col-md-4 d-flex justify-content-end mt-5"},d=["src"],r={class:"col-md-4 row justify-content-start"},g=["onMouseover"],u=["src"],m={class:"row justify-content-center gx-0"},h={class:"col-lg-4 col-12 mt-4"},p={class:"font-md-l fw-bold mb-3"},v={class:"fs-5 text-theme"},_={class:"col-lg-4 col-12 mt-4 row justify-content-center"},w={class:"btn-group",role:"group","aria-label":"Basic example",style:{height:"50px"}},b=["disabled"],x={key:0,class:"spinner-grow text-red spinner-grow-sm"},f=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),y=[f],P=["disabled"],k=(0,i._)("i",{class:"bi bi-share"},null,-1),I={class:"box row align-items-center",style:{height:"100px"}},L={class:"row align-items-center"},D={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},$={class:"d-flex flex-column ms-4 content lh-lg"},C={class:"col-md-6 gx-0 order-1 order-md-2"},j=["src"],z={class:"row align-items-center bg-gray"},M={class:"col-md-6 gx-0"},U=["src"],H={class:"col-md-6 d-flex gx-0"},q={class:"d-flex flex-column justify-content-center content ms-4 ms-lg-5 lh-lg"},F={class:"row align-items-center"},S={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},Y={class:"d-flex flex-column ms-4 content lh-lg"},K={class:"col-md-6 gx-0 order-1 order-md-2"},T=["src"],E={key:0,class:"container mt-5 mb-5"},B={class:"row"},G=(0,i._)("h3",{class:"text-center mb-4"},"相關產品",-1),W={class:"card rounded-0"},Z=["onMouseenter","onMouseleave","onClick"],A=["src"],J=["src"],N={class:"card-body text-center"},O={class:"card-img-title-lg"},Q={class:"card-text"},R=["disabled","onClick"],V={key:0,class:"spinner-grow text-red spinner-grow-sm"},X=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),tt=[X];function et(t,e,s,f,X,et){const st=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(st,{active:X.isLoading},null,8,["active"]),(0,i._)("div",c,[(0,i._)("div",a,[n,(0,i._)("div",o,[(0,i._)("img",{src:X.enterImage,alt:"",class:"img-fluid rounded",style:{height:"480px"}},null,8,d)]),(0,i._)("div",r,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.imagesList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-lg-6 col-4 secImg-box",key:t},[(0,i._)("a",{onMouseover:e=>et.changeEnterImage(t)},[(0,i._)("img",{src:t,style:{width:"200px"},class:"img-fluid mt-5 rounded",alt:""},null,8,u)],40,g)])))),128))]),(0,i._)("div",m,[(0,i._)("div",h,[(0,i._)("h4",p,[(0,i._)("strong",null,(0,l.zw)(X.tempProduct.title),1)]),(0,i._)("p",v,"售價：$"+(0,l.zw)(X.tempProduct.price),1)]),(0,i._)("div",_,[(0,i._)("div",w,[(0,i._)("button",{class:"btn btn-btn-bg btn-xl btn-add-view m-1",disabled:this.status.loadingItem===X.tempProduct.id,onClick:e[0]||(e[0]=t=>et.addCart(X.tempProduct.id))},[this.status.loadingItem===X.tempProduct.id?((0,i.wg)(),(0,i.iD)("div",x,y)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,b),(0,i._)("button",{class:"btn btn-btn-share-bg btn-share-view btn-xl m-1",onClick:e[1]||(e[1]=(...t)=>et.shareUrl&&et.shareUrl(...t)),disabled:this.status.loadingItem===X.tempProduct.id},[(0,i.Uk)(" 分享 "),k],8,P)])])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.contentList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-lg-3 text-center my-3 border bg-white",key:t},[(0,i._)("div",I,[(0,i._)("p",null,[(0,i._)("strong",null,(0,l.zw)(t),1)])])])))),128))]),(0,i._)("div",L,[(0,i._)("div",D,[(0,i._)("div",$,[(0,i._)("p",null,(0,l.zw)(X.descriptionList[0]),1)])]),(0,i._)("div",C,[(0,i._)("img",{src:X.images[2],alt:"",class:"img-fluid"},null,8,j)])]),(0,i._)("div",z,[(0,i._)("div",M,[(0,i._)("img",{src:X.images[3],alt:"",class:"img-fluid"},null,8,U)]),(0,i._)("div",H,[(0,i._)("div",q,[(0,i._)("p",null,(0,l.zw)(X.descriptionList[1]),1)])])]),(0,i._)("div",F,[(0,i._)("div",S,[(0,i._)("div",Y,[(0,i._)("p",null,(0,l.zw)(X.descriptionList[2]),1)])]),(0,i._)("div",K,[(0,i._)("img",{src:X.images[4],alt:"",class:"img-fluid"},null,8,T)])])]),X.relatedProducts.length>0?((0,i.wg)(),(0,i.iD)("div",E,[(0,i._)("div",B,[G,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.relatedProducts,((e,s)=>((0,i.wg)(),(0,i.iD)("div",(0,i.dG)({class:"col-sm-12 col-md-6 col-xl-3 py-2",key:e.Id},e),[(0,i._)("div",W,[(0,i._)("div",{class:"card border border-white text-white text-left imgHover",onMouseenter:t=>et.enterFun(s),onMouseleave:t=>et.leaveFun(s),onClick:t=>et.relatedProduct(e.id)},[X.showImage||X.n!=s?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.images[0],alt:"",class:"img-cover imageSize",height:"300"},null,8,A)):((0,i.wg)(),(0,i.iD)("img",{key:1,src:e.images[1],alt:"",class:"img-cover imageSize",height:"300"},null,8,J))],40,Z),(0,i._)("div",N,[(0,i._)("h5",O,(0,l.zw)(e.title),1),(0,i._)("p",Q,"售價："+(0,l.zw)(t.$filters.currency(e.price)),1),(0,i._)("button",{class:"btn btn-btn-bg btn-add-view btn-xl",disabled:this.status.loadingItem===e.id,onClick:t=>et.addCart(e.id)},[this.status.loadingItem===e.id?((0,i.wg)(),(0,i.iD)("div",V,tt)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,R)])])],16)))),128))])])):(0,i.kq)("",!0)],64)}s(560);var st={data(){return{isLoading:!1,tempProduct:{},enterImage:"",id:"",status:{loadingItem:""},images:[],imagesList:[],contentList:{},descriptionList:{},relatedProducts:[],showImage:!0,n:0,elTop:0,share:""}},inject:["emitter"],methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/chaichai_api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.tempProduct=t.data.product,this.enterImage=this.tempProduct.imageUrl,this.images=this.tempProduct.images,this.imagesList=this.tempProduct.images.slice(5);const{content:e}=this.tempProduct;this.contentList=e.split("\n");const{description:s}=this.tempProduct;this.descriptionList=s.split("；"),this.same(this.tempProduct.category),this.isLoading=!1,this.$scroll.scrollTop()}))},addCart(t){const e="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(e,{data:s}).then((t=>{this.status.loadingItem="",console.log("Products",t),this.$httpMessageState(t,"加入購物車")}))},same(t){const e="https://vue3-course-api.hexschool.io/api/chaichai_api/products";this.$http.get(e).then((e=>{this.productList=e.data.products,this.relatedProducts=this.productList.filter((e=>e.category===t&&e.id!==this.tempProduct.id)),console.log(this.relatedProducts)}))},relatedProduct(t){this.$router.push(`/product/${t}`),this.id=t,this.getProduct()},enterFun(t){this.showImage=!1,this.n=t},leaveFun(t){this.showImage=!0,this.n=t},shareUrl(){navigator.clipboard.writeText(window.location.href).then((()=>{const t={data:{success:!0}};this.$httpMessageState(t,"複製連結")}))},changeEnterImage(t){this.enterImage=t}},created(){this.id=this.$route.params.productId,this.getProduct();let t=0;setInterval((()=>{this.enterImage=this.imagesList[t],t+=1,t>=this.imagesList.length&&(t=0)}),5e3)}},it=s(89);const lt=(0,it.Z)(st,[["render",et]]);var ct=lt}}]);
//# sourceMappingURL=210.7501a681.js.map