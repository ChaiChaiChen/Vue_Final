{"version":3,"file":"js/538.b6d17932.js","mappings":"+LAMOA,MAAM,wB,GACJA,MAAM,kC,GACJA,MAAM,iB,aAGNA,MAAM,8C,GACJA,MAAM,kC,GACLA,MAAM,0B,GACPA,MAAM,wB,GAEJA,MAAM,O,wBAIAA,MAAM,yC,GAETC,EAAAA,EAAAA,GAA+C,QAAzCD,MAAM,mBAAkB,cAAU,G,GAAxCE,G,kBAMCD,EAAAA,EAAAA,GAA2B,KAAxBD,MAAM,eAAa,S,GAKhCA,MAAM,0B,GACJA,MAAM,kE,GACJA,MAAM,wC,GAIRA,MAAM,oC,aAIRA,MAAM,kC,GACJA,MAAM,iB,aAGNA,MAAM,+C,GACJA,MAAM,2C,GAKVA,MAAM,0B,GACJA,MAAM,kE,GACJA,MAAM,wC,GAIRA,MAAM,oC,mBAaVA,MAAM,uB,GACJA,MAAM,O,GACTC,EAAAA,EAAAA,GAAsC,MAAlCD,MAAM,oBAAmB,QAAI,G,GAG1BA,MAAM,kB,mEAMJA,MAAM,yB,GACLA,MAAM,qB,GACLA,MAAM,a,kCAINA,MAAM,yC,GAETC,EAAAA,EAAAA,GAA+C,QAAzCD,MAAM,mBAAkB,cAAU,G,GAAxCG,G,0FAtFZC,EAAAA,EAAAA,IAAuCC,EAAA,CAA7BC,OAAQC,EAAAC,WAAS,oBAC3BP,EAAAA,EAAAA,GAyDM,MAzDNQ,EAyDM,EAxDJR,EAAAA,EAAAA,GAyBM,MAzBNS,EAyBM,EAxBJT,EAAAA,EAAAA,GAEM,MAFNU,EAEM,EADJV,EAAAA,EAAAA,GAA0D,OAApDW,IAAKL,EAAAM,YAAYC,SAAUC,IAAI,GAAGf,MAAM,a,aAEhDC,EAAAA,EAAAA,GAoBM,MApBNe,EAoBM,EAnBJf,EAAAA,EAAAA,GAkBM,MAlBNgB,EAkBM,EAjBJhB,EAAAA,EAAAA,GAAgE,KAAhEiB,GAAgEC,EAAAA,EAAAA,IAAzBZ,EAAAM,YAAYO,OAAK,IACxDnB,EAAAA,EAAAA,GAA+D,IAA/DoB,EAAgC,QAAIF,EAAAA,EAAAA,IAAGZ,EAAAM,YAAYS,OAAK,kBACxDC,EAAAA,EAAAA,IAAoEC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAA7ClB,EAAAmB,aAAZC,K,WAAXJ,EAAAA,EAAAA,IAAoE,KAA/BK,IAAKD,IAAOR,EAAAA,EAAAA,IAAKQ,GAAO,M,OAC7D1B,EAAAA,EAAAA,GAaM,MAbN4B,EAaM,EAZJ5B,EAAAA,EAAAA,GAOkB,UAPVD,MAAM,iCACT8B,SAAQ,KAAQC,OAAOC,cAAgBzB,EAAAM,YAAYoB,GACnDC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,QAAQ/B,EAAAM,YAAYoB,M,MAEfF,OAAOC,cAAgBzB,EAAAM,YAAYoB,KAAE,WADlDV,EAAAA,EAAAA,IAGM,MAHNgB,EAGMC,KAAA,mCACD,MACLvC,EAAAA,EAAAA,GAGuC,UAH/BD,MAAM,iCACb8B,SAAQ,KAAQC,OAAOC,cAAgBzB,EAAAM,YAAYoB,I,UACnD,QACEQ,GAA2B,cAK1CxC,EAAAA,EAAAA,GASM,MATNyC,EASM,EARJzC,EAAAA,EAAAA,GAIM,MAJN0C,EAIM,EAHJ1C,EAAAA,EAAAA,GAEM,MAFN2C,EAEM,EADJ3C,EAAAA,EAAAA,GAA+B,UAAAkB,EAAAA,EAAAA,IAAzBZ,EAAAsC,gBAAgB,IAAD,QAGzB5C,EAAAA,EAAAA,GAEM,MAFN6C,EAEM,EADJ7C,EAAAA,EAAAA,GAA+C,OAAzCW,IAAKL,EAAAwC,OAAO,GAAIhC,IAAI,GAAGf,MAAM,a,eAGvCC,EAAAA,EAAAA,GASM,MATN+C,EASM,EARJ/C,EAAAA,EAAAA,GAEM,MAFNgD,EAEM,EADJhD,EAAAA,EAAAA,GAA+C,OAAzCW,IAAKL,EAAAwC,OAAO,GAAIhC,IAAI,GAAGf,MAAM,a,aAErCC,EAAAA,EAAAA,GAIM,MAJNiD,EAIM,EAHJjD,EAAAA,EAAAA,GAEM,MAFNkD,EAEM,EADJlD,EAAAA,EAAAA,GAA+B,UAAAkB,EAAAA,EAAAA,IAAzBZ,EAAAsC,gBAAgB,IAAD,UAI3B5C,EAAAA,EAAAA,GASM,MATNmD,EASM,EARJnD,EAAAA,EAAAA,GAIM,MAJNoD,EAIM,EAHJpD,EAAAA,EAAAA,GAEM,MAFNqD,EAEM,EADJrD,EAAAA,EAAAA,GAA+B,UAAAkB,EAAAA,EAAAA,IAAzBZ,EAAAsC,gBAAgB,IAAD,QAGzB5C,EAAAA,EAAAA,GAEM,MAFNsD,EAEM,EADJtD,EAAAA,EAAAA,GAA+C,OAAzCW,IAAKL,EAAAwC,OAAO,GAAIhC,IAAI,GAAGf,MAAM,a,gBAYFqC,EAAAmB,eAAiB,IAAH,WAArDjC,EAAAA,EAAAA,IA0BM,MA1BNkC,EA0BM,EAzBJxD,EAAAA,EAAAA,GAwBM,MAxBNyD,EAwBM,CAvBJC,IAAsC,aACtCpC,EAAAA,EAAAA,IAqBMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IArBkElB,EAAAqD,iBAAe,CAAjCC,EAAQC,M,WAA9DvC,EAAAA,EAAAA,IAqBM,OArBNwC,EAAAA,EAAAA,IAqBM,CArBD/D,MAAM,mCACT4B,IAAKiC,EAAQG,IAAYH,GAAO,EAChC5D,EAAAA,EAAAA,GAkBM,MAlBNgE,EAkBM,EAhBJhE,EAAAA,EAAAA,GAGM,OAHDD,MAAM,yDAA0DkE,aAAU9B,GAAEC,EAAA8B,SAASL,GAAUM,aAAUhC,GAAEC,EAAAgC,SAASP,GAAS5B,QAAKE,GAAEC,EAAAmB,eAAeK,EAAQ5B,K,CACnJ1B,EAAA+D,WAAa/D,EAAAgE,GAAKT,IAAK,WAAlCvC,EAAAA,EAAAA,IAA6G,O,MAAxEX,IAAKiD,EAAQd,OAAO,GAAIhC,IAAI,GAAGf,MAAM,sBAAsBwE,OAAO,O,wBACvGjD,EAAAA,EAAAA,IAAqF,O,MAAxEX,IAAKiD,EAAQd,OAAO,GAAIhC,IAAI,GAAGf,MAAM,sBAAsBwE,OAAO,O,mBAEjFvE,EAAAA,EAAAA,GAWS,MAXTwE,EAWS,EAVPxE,EAAAA,EAAAA,GAAsD,KAAtDyE,GAAsDvD,EAAAA,EAAAA,IAArB0C,EAAQzC,OAAK,IAC5CnB,EAAAA,EAAAA,GAA+C,IAA/C0E,EAAqB,OAAGxD,EAAAA,EAAAA,IAAG0C,EAAQvC,OAAK,IAC1CrB,EAAAA,EAAAA,GAOc,UAPND,MAAM,iCACb8B,SAAQ,KAAQC,OAAOC,cAAgB6B,EAAQ5B,GAC/CC,QAAKE,GAAEC,EAAAC,QAAQuB,EAAQ5B,K,MAEbF,OAAOC,cAAgB6B,EAAQ5B,KAAE,WAD5CV,EAAAA,EAAAA,IAGM,MAHNqD,EAGMC,KAAA,mCACD,iB,2CAajB,GACEC,IAAAA,GACE,MAAO,CACLtE,WAAW,EACXK,YAAa,CAAC,EACdoB,GAAI,GACJF,OAAQ,CACNC,YAAa,IAEfe,OAAQ,GACRgC,WAAY,GACZrD,YAAa,CAAC,EACdmB,gBAAiB,CAAC,EAClBe,gBAAiB,GACjBU,WAAW,EACXC,EAAG,EACHS,MAAO,EAEX,EACAC,OAAAA,GACEC,OAAOC,iBAAiB,SAAUC,KAAKC,UAEzC,EACAC,QAAS,CACPC,UAAAA,GACE,MAAMC,EAAO,iEAAoEJ,KAAKnD,KACtFmD,KAAK5E,WAAY,EACjB4E,KAAKK,MAAMC,IAAIF,GACZG,MAAMC,IACLR,KAAKvE,YAAc+E,EAAId,KAAKjB,QAC5BuB,KAAKrC,OAASqC,KAAKvE,YAAYkC,OAC/BqC,KAAKL,WAAaK,KAAKvE,YAAYkC,OAAO8C,MAAM,GAChD,MAAM,QAAElE,GAAYyD,KAAKvE,YACzBuE,KAAK1D,YAAcC,EAAQmE,MAAM,MACjC,MAAM,YAAEC,GAAgBX,KAAKvE,YAC7BuE,KAAKvC,gBAAkBkD,EAAYD,MAAM,KACzCV,KAAKY,KAAKZ,KAAKvE,YAAYoF,UAC3Bb,KAAK5E,WAAY,EACjB4E,KAAKc,WAAW,GAEtB,EACA5D,OAAAA,CAAQL,GACN,MAAMkE,EAAO,6DACbf,KAAKrD,OAAOC,YAAcC,EAC1B,MAAMmE,EAAO,CACXC,WAAYpE,EACZqE,IAAK,GAEPlB,KAAKK,MAAMc,KAAKJ,EAAK,CAAErB,KAAMsB,IAAQT,MAAMa,IACzCpB,KAAKrD,OAAOC,YAAc,GAC1ByE,QAAQC,IAAI,WAAYF,EAAS,GAErC,EACAR,IAAAA,CAAKW,GACH,MAAMR,EAAO,iEACbf,KAAKK,MAAMC,IAAIS,GAAKR,MAAMa,IACxBpB,KAAKwB,YAAcJ,EAAS1B,KAAK+B,SACjCzB,KAAKxB,gBAAkBwB,KAAKwB,YAAYE,QAAQC,GAASA,EAAKd,WAAaU,GACxEI,EAAK9E,KAAOmD,KAAKvE,YAAYoB,KAChCwE,QAAQC,IAAItB,KAAKxB,gBAAgB,GAErC,EACAJ,cAAAA,CAAevB,GACbmD,KAAK4B,QAAQC,KAAM,YAAWhF,KAC9BmD,KAAKnD,GAAKA,EACVmD,KAAKG,YACP,EACApB,QAAAA,CAASL,GACPsB,KAAKd,WAAY,EACjBc,KAAKb,EAAIT,CACX,EACAO,QAAAA,CAASP,GACPsB,KAAKd,WAAY,EACjBc,KAAKb,EAAIT,CACX,EAEAoC,SAAAA,GACEhB,OAAOgC,SAAS,CACdC,IAAK,EACLC,SAAU,UAEd,EAEA/B,SAAAA,GAEE,MAAMgC,EAAcnC,OAAOoC,YAE3BlC,KAAKJ,MAAQqC,CACf,GAEFE,OAAAA,GAEEnC,KAAKnD,GAAKmD,KAAKoC,OAAOC,OAAOC,UAC7BtC,KAAKG,YACP,G,QCjMF,MAAMoC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vue-final/./src/views/UserProduct.vue","webpack://vue-final/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/click-events-have-key-events -->\n<!-- eslint-disable max-len -->\n<!-- eslint-disable vuejs-accessibility/mouse-events-have-key-events -->\n<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"container-fluid mt-5\">\n    <div class=\"row align-items-center bg-gray\">\n      <div class=\"col-md-6 gx-0\">\n        <img :src=\"tempProduct.imageUrl\" alt=\"\" class=\"img-fluid\">\n      </div>\n      <div class=\"col-md-6 d-flex justify-content-start gx-0\">\n        <div class=\"d-flex flex-column m-5 ps-md-5\">\n          <h4 class=\"font-md-l fw-bold mb-3 \">{{ tempProduct.title }}</h4>\n          <p class=\"mb-5 fs-5 text-theme\">售價：${{ tempProduct.price }}</p>\n          <p v-for=\"(content) in contentList\" :key=\"content\">{{ content }}</p>\n          <div class=\"col\">\n            <button class=\"btn btn-btn-bg btn-xl btn-view\"\n                :disabled =\"this.status.loadingItem === tempProduct.id\"\n                @click=\"addCart(tempProduct.id)\">\n                <div class=\"spinner-grow text-red spinner-grow-sm\"\n                  v-if=\"this.status.loadingItem === tempProduct.id\">\n                  <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                加入購物車</button>\n                <button class=\"btn btn-outline-primary btn-xl\"\n                :disabled =\"this.status.loadingItem === tempProduct.id\"\n                >\n                分享 <i class=\"bi bi-share\"></i></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row align-items-center\">\n      <div class=\"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1\">\n        <div class=\"d-flex flex-column mr-5 ms-5 content\">\n          <p>{{ descriptionList[0] }}</p>\n        </div>\n      </div>\n      <div class=\"col-md-6 gx-0 order-1 order-md-2\">\n        <img :src=\"images[2]\" alt=\"\" class=\"img-fluid\">\n      </div>\n    </div>\n    <div class=\"row align-items-center bg-gray\">\n      <div class=\"col-md-6 gx-0\">\n        <img :src=\"images[3]\" alt=\"\" class=\"img-fluid\">\n      </div>\n      <div class=\"col-md-6 d-flex justify-content-center gx-0\">\n        <div class=\"d-flex flex-column content ms-md-5 ps-5\">\n          <p>{{ descriptionList[1] }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"row align-items-center\">\n      <div class=\"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1\">\n        <div class=\"d-flex flex-column mr-5 ms-5 content\">\n          <p>{{ descriptionList[2] }}</p>\n        </div>\n      </div>\n      <div class=\"col-md-6 gx-0 order-1 order-md-2\">\n        <img :src=\"images[4]\" alt=\"\" class=\"img-fluid\">\n      </div>\n    </div>\n  </div>\n  <!-- <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-lg-3 col-md-6 mt-3 mb-3\"\n       v-for=\"(image, key) in imagesList\" :key=\"`image${key}`\">\n        <img :src=\"image\" alt=\"\" class=\"img-fluid\">\n      </div>\n    </div>\n  </div> -->\n  <div class=\"container mt-5 mb-5\" v-if=\"relatedProduct > 0\">\n    <div class=\"row\">\n      <h3 class=\"text-center mb-4\">相關產品</h3>\n      <div class=\"col-sm-12 col-md-6 col-xl-3 py-2\" v-for=\"(product,index) in relatedProducts\"\n       :key=\"product.Id\" v-bind=\"product\">\n        <div class=\"card rounded-0\">\n          <!-- https://www.yisu.com/zixun/153224.html -->\n          <div class=\"card border border-white text-white text-left imgHover\" @mouseenter=\"enterFun(index)\"  @mouseleave=\"leaveFun(index)\" @click=\"relatedProduct(product.id)\">\n            <img v-if=\"showImage || n != index\" :src=\"product.images[0]\" alt=\"\" class=\"img-cover imageSize\" height=\"300\">\n            <img v-else :src=\"product.images[1]\" alt=\"\" class=\"img-cover imageSize\" height=\"300\">\n          </div>\n          <div class=\"card-body text-center\">\n            <h5 class=\"card-img-title-lg\">{{ product.title }}</h5>\n              <p class=\"card-text\">售價：{{ product.price }}</p>\n            <button class=\"btn btn-btn-bg btn-view btn-xl\"\n            :disabled =\"this.status.loadingItem === product.id\"\n            @click=\"addCart(product.id)\">\n            <div class=\"spinner-grow text-red spinner-grow-sm\"\n            v-if=\"this.status.loadingItem === product.id\">\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n            加入購物車</button>\n             </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style>\n.content{\n  white-space: pre-wrap;\n}\n</style>\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      tempProduct: {},\n      id: '',\n      status: {\n        loadingItem: '', // 對應品項id\n      },\n      images: [],\n      imagesList: [],\n      contentList: {},\n      descriptionList: {},\n      relatedProducts: [],\n      showImage: true,\n      n: 0,\n      elTop: 0, // 滾動前,捲軸距離視窗頂部的距離\n    };\n  },\n  mounted() {\n    window.addEventListener('scroll', this.scrolling);\n    // 資料掛載完, window去監聽scroll事件\n  },\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api)\n        .then((res) => {\n          this.tempProduct = res.data.product;\n          this.images = this.tempProduct.images;\n          this.imagesList = this.tempProduct.images.slice(5);\n          const { content } = this.tempProduct;\n          this.contentList = content.split('\\n');\n          const { description } = this.tempProduct;\n          this.descriptionList = description.split('；');\n          this.same(this.tempProduct.category);\n          this.isLoading = false;\n          this.scrollTop();\n        });\n    },\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart }).then((response) => {\n        this.status.loadingItem = '';\n        console.log('Products', response);\n      });\n    },\n    same(productCategory) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products`;\n      this.$http.get(url).then((response) => {\n        this.productList = response.data.products;\n        this.relatedProducts = this.productList.filter((item) => item.category === productCategory\n        && item.id !== this.tempProduct.id);\n        console.log(this.relatedProducts);\n      });\n    },\n    relatedProduct(id) { // 取得產品id切換到該產品頁面\n      this.$router.push(`/product/${id}`);\n      this.id = id;\n      this.getProduct();\n    },\n    enterFun(index) {\n      this.showImage = false;\n      this.n = index;\n    },\n    leaveFun(index) {\n      this.showImage = true;\n      this.n = index;\n    },\n    // 要滑到top為0的位置, 使用smooth的模式\n    scrollTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    },\n\n    scrolling() {\n      // 捲軸距離視窗頂部的距離\n      const scrolltoTop = window.pageYOffset;\n      // 更新: 滾動前,捲軸距離視窗頂部的距離\n      this.elTop = scrolltoTop;\n    },\n  },\n  created() {\n    // 透過$route.params接收UserCart所傳送的prouctId\n    this.id = this.$route.params.productId;\n    this.getProduct();\n  },\n};\n</script>\n","import { render } from \"./UserProduct.vue?vue&type=template&id=670c91d0\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport \"./UserProduct.vue?vue&type=style&index=0&id=670c91d0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_12","_hoisted_43","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","src","tempProduct","imageUrl","alt","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","title","_hoisted_8","price","_createElementBlock","_Fragment","_renderList","contentList","content","key","_hoisted_9","disabled","status","loadingItem","id","onClick","_cache","$event","$options","addCart","_hoisted_11","_hoisted_13","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","descriptionList","_hoisted_19","images","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","relatedProduct","_hoisted_31","_hoisted_32","_hoisted_33","relatedProducts","product","index","_mergeProps","Id","_hoisted_34","onMouseenter","enterFun","onMouseleave","leaveFun","showImage","n","height","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_42","_hoisted_44","data","imagesList","elTop","mounted","window","addEventListener","this","scrolling","methods","getProduct","api","$http","get","then","res","slice","split","description","same","category","scrollTop","url","cart","product_id","qty","post","response","console","log","productCategory","productList","products","filter","item","$router","push","scrollTo","top","behavior","scrolltoTop","pageYOffset","created","$route","params","productId","__exports__","render"],"sourceRoot":""}