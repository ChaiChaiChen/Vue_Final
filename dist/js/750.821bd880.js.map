{"version":3,"file":"js/750.821bd880.js","mappings":"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","sources":["webpack://vue-final/./src/views/UserProduct.vue","webpack://vue-final/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/click-events-have-key-events -->\n<!-- eslint-disable max-len -->\n<!-- eslint-disable vuejs-accessibility/mouse-events-have-key-events -->\n<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <Loading :active=\"isLoading\"></Loading>\n<div class=\"coupon-container bg-theme text-white text-center d-flex align-items-center justify-content-center\" style=\"margin-top: 85px; height: 40px;\">\n  <div class=\"coupon-content\">現在輸入優惠碼：95%&emsp;&emsp;享有95折優惠</div>\n</div>\n  <div class=\"container-fluid\">\n    <div class=\"row align-items-center bg-gray\">\n      <div class=\"col-md-6 gx-0 mt-5\">\n        <img :src=\"tempProduct.imageUrl\" alt=\"\" class=\"img-fluid\">\n      </div>\n      <div class=\"col-md-6 d-flex justify-content-start gx-0 mt-md-5\">\n        <div class=\"d-flex flex-column m-5 ps-md-5\">\n          <h4 class=\"font-md-l fw-bold mb-3 \">{{ tempProduct.title }}</h4>\n          <p class=\"mb-5 fs-5 text-theme\">售價：${{ tempProduct.price }}</p>\n          <p v-for=\"(content) in contentList\" :key=\"content\">{{ content }}</p>\n          <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n            <button class=\"btn btn-btn-bg btn-xl btn-add-view m-1\"\n                :disabled =\"this.status.loadingItem === tempProduct.id\"\n                @click=\"addCart(tempProduct.id)\">\n                <div class=\"spinner-grow text-red spinner-grow-sm\"\n                  v-if=\"this.status.loadingItem === tempProduct.id\">\n                  <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                加入購物車</button>\n                <button class=\"btn btn-btn-share-bg btn-share-view btn-xl m-1\"\n                @click=\"shareUrl\"\n                :disabled =\"this.status.loadingItem === tempProduct.id\"\n                >\n                分享 <i class=\"bi bi-share\"></i></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row align-items-center\">\n      <div class=\"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1\">\n        <div class=\"d-flex flex-column mr-5 ms-5 content\">\n          <p>{{ descriptionList[0] }}</p>\n        </div>\n      </div>\n      <div class=\"col-md-6 gx-0 order-1 order-md-2\">\n        <img :src=\"images[2]\" alt=\"\" class=\"img-fluid\">\n      </div>\n    </div>\n    <div class=\"row align-items-center bg-gray\">\n      <div class=\"col-md-6 gx-0\">\n        <img :src=\"images[3]\" alt=\"\" class=\"img-fluid\">\n      </div>\n      <div class=\"col-md-6 d-flex justify-content-center gx-0\">\n        <div class=\"d-flex flex-column content ms-md-5 ps-5\">\n          <p>{{ descriptionList[1] }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"row align-items-center\">\n      <div class=\"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1\">\n        <div class=\"d-flex flex-column mr-5 ms-5 content\">\n          <p>{{ descriptionList[2] }}</p>\n        </div>\n      </div>\n      <div class=\"col-md-6 gx-0 order-1 order-md-2\">\n        <img :src=\"images[4]\" alt=\"\" class=\"img-fluid\">\n      </div>\n    </div>\n  </div>\n  <!-- <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-lg-3 col-md-6 mt-3 mb-3\"\n       v-for=\"(image, key) in imagesList\" :key=\"`image${key}`\">\n        <img :src=\"image\" alt=\"\" class=\"img-fluid\">\n      </div>\n    </div>\n  </div> -->\n  <div class=\"container mt-5 mb-5\" v-if=\"relatedProducts.length > 0\">\n    <div class=\"row\">\n      <h3 class=\"text-center mb-4\">相關產品</h3>\n      <div class=\"col-sm-12 col-md-6 col-xl-3 py-2\" v-for=\"(product,index) in relatedProducts\"\n       :key=\"product.Id\" v-bind=\"product\">\n        <div class=\"card rounded-0\">\n          <!-- https://www.yisu.com/zixun/153224.html -->\n          <div class=\"card border border-white text-white text-left imgHover\" @mouseenter=\"enterFun(index)\"  @mouseleave=\"leaveFun(index)\" @click=\"relatedProduct(product.id)\">\n            <img v-if=\"showImage || n != index\" :src=\"product.images[0]\" alt=\"\" class=\"img-cover imageSize\" height=\"300\">\n            <img v-else :src=\"product.images[1]\" alt=\"\" class=\"img-cover imageSize\" height=\"300\">\n          </div>\n          <div class=\"card-body text-center\">\n            <h5 class=\"card-img-title-lg\">{{ product.title }}</h5>\n              <p class=\"card-text\">售價：{{ product.price }}</p>\n            <button class=\"btn btn-btn-bg btn-add-view btn-xl\"\n            :disabled =\"this.status.loadingItem === product.id\"\n            @click=\"addCart(product.id)\">\n            <div class=\"spinner-grow text-red spinner-grow-sm\"\n            v-if=\"this.status.loadingItem === product.id\">\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n            加入購物車</button>\n             </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style>\n.content{\n  white-space: pre-wrap;\n}\n.coupon-container {\n  width: 100%;\n  overflow: hidden;\n}\n\n.coupon-content {\n  display: inline-block;\n  white-space: nowrap;\n  animation: coupon 10s linear infinite;\n}\n\n@keyframes coupon {\n  0% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}\n</style>\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      tempProduct: {},\n      id: '',\n      status: {\n        loadingItem: '', // 對應品項id\n      },\n      images: [],\n      imagesList: [],\n      contentList: {},\n      descriptionList: {},\n      relatedProducts: [],\n      showImage: true,\n      n: 0,\n      elTop: 0, // 滾動前,捲軸距離視窗頂部的距離\n      share: '',\n    };\n  },\n  mounted() {\n    window.addEventListener('scroll', this.scrolling);\n    // 資料掛載完, window去監聽scroll事件\n  },\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api)\n        .then((res) => {\n          this.tempProduct = res.data.product;\n          this.images = this.tempProduct.images;\n          this.imagesList = this.tempProduct.images.slice(5);\n          const { content } = this.tempProduct;\n          this.contentList = content.split('\\n');\n          const { description } = this.tempProduct;\n          this.descriptionList = description.split('；');\n          this.same(this.tempProduct.category);\n          this.isLoading = false;\n          this.scrollTop();\n        });\n    },\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart }).then((response) => {\n        this.status.loadingItem = '';\n        console.log('Products', response);\n      });\n    },\n    same(productCategory) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products`;\n      this.$http.get(url).then((response) => {\n        this.productList = response.data.products;\n        this.relatedProducts = this.productList.filter((item) => item.category === productCategory\n        && item.id !== this.tempProduct.id);\n        console.log(this.relatedProducts);\n      });\n    },\n    relatedProduct(id) { // 取得產品id切換到該產品頁面\n      this.$router.push(`/product/${id}`);\n      this.id = id;\n      this.getProduct();\n    },\n    enterFun(index) {\n      this.showImage = false;\n      this.n = index;\n    },\n    leaveFun(index) {\n      this.showImage = true;\n      this.n = index;\n    },\n    // 要滑到top為0的位置, 使用smooth的模式\n    scrollTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    },\n\n    scrolling() {\n      // 捲軸距離視窗頂部的距離\n      const scrolltoTop = window.pageYOffset;\n      // 更新: 滾動前,捲軸距離視窗頂部的距離\n      this.elTop = scrolltoTop;\n    },\n    shareUrl() {\n      navigator.clipboard.writeText(window.location.href)\n        .then(() => {\n          console.log('分享');\n        });\n    },\n  },\n  created() {\n    // 透過$route.params接收UserCart所傳送的prouctId\n    this.id = this.$route.params.productId;\n    this.getProduct();\n  },\n};\n</script>\n","import { render } from \"./UserProduct.vue?vue&type=template&id=6dbd3fb0\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport \"./UserProduct.vue?vue&type=style&index=0&id=6dbd3fb0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","role","_hoisted_13","_hoisted_44","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","src","tempProduct","imageUrl","alt","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","title","_hoisted_9","price","_createElementBlock","_Fragment","_renderList","contentList","content","key","_hoisted_10","disabled","status","loadingItem","id","onClick","_cache","$event","$options","addCart","_hoisted_12","_hoisted_14","args","shareUrl","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","descriptionList","_hoisted_20","images","_hoisted_22","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","relatedProducts","length","_hoisted_32","_hoisted_33","_hoisted_34","product","index","_mergeProps","Id","_hoisted_35","onMouseenter","enterFun","onMouseleave","leaveFun","relatedProduct","showImage","n","height","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_43","_hoisted_45","data","imagesList","elTop","share","mounted","window","addEventListener","this","scrolling","methods","getProduct","api","$http","get","then","res","slice","split","description","same","category","scrollTop","url","cart","product_id","qty","post","response","console","log","productCategory","productList","products","filter","item","$router","push","scrollTo","top","behavior","scrolltoTop","pageYOffset","navigator","clipboard","writeText","location","href","created","$route","params","productId","__exports__","render"],"sourceRoot":""}