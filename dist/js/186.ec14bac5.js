"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[186],{8186:function(t,e,s){s.r(e),s.d(e,{default:function(){return at}});var i=s(3396),c=s(7139);const l={class:"container-fluid"},a={class:"row justify-content-center align-items-center bg-gray mt-5"},n=(0,i._)("div",{class:"coupon-container bg-nav text-theme text-center d-flex align-items-center justify-content-center mt-lg-4 mt-md-2"},[(0,i._)("div",{class:"coupon-content"},"現在輸入優惠碼：95%  享有95折優惠")],-1),o={class:"col-md-12 col-lg-4 mt-5 row justify-content-center"},r=["src"],d={class:"col-md-12 col-lg-3 row mt-lg-5"},g=["onMouseover"],u=["src"],m={class:"row justify-content-center gx-0"},h={class:"col-lg-4 col-12 mt-4"},p={class:"font-md-l fw-bold mb-3"},v={class:"fs-5 text-theme"},_={class:"col-lg-4 col-12 mt-4 row justify-content-center"},w={class:"btn-group product-btn",role:"group","aria-label":"Basic example"},b=["disabled"],f={key:0,class:"spinner-grow text-red spinner-grow-sm"},x=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),y=[x],P=["disabled"],k=(0,i._)("i",{class:"bi bi-share"},null,-1),I={class:"row justify-content-center align-items-center product-content"},L={class:"mt-3"},D={class:"row align-items-center"},$={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},C={class:"d-flex flex-column ms-4 content lh-lg"},j={class:"col-md-6 gx-0 order-1 order-md-2"},z=["src"],M={class:"row align-items-center bg-gray"},U={class:"col-md-6 gx-0"},H=["src"],q={class:"col-md-6 d-flex gx-0"},F={class:"d-flex flex-column justify-content-center content ms-4 ms-lg-5 lh-lg"},S={class:"row align-items-center"},Y={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},K={class:"d-flex flex-column ms-4 content lh-lg"},T={class:"col-md-6 gx-0 order-1 order-md-2"},E=["src"],B={key:0,class:"container mt-5 mb-5"},G={class:"row"},W=(0,i._)("h3",{class:"text-center mb-4"},"相關產品",-1),Z={class:"card rounded-0"},A=["onMouseenter","onMouseleave","onClick"],J=["src"],N=["src"],O={class:"card-body text-center bg-card"},Q={class:"card-img-title-lg"},R={class:"card-text"},V=["disabled","onClick"],X={key:0,class:"spinner-grow text-red spinner-grow-sm"},tt=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),et=[tt];function st(t,e,s,x,tt,st){const it=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(it,{active:tt.isLoading},null,8,["active"]),(0,i._)("div",l,[(0,i._)("div",a,[n,(0,i._)("div",o,[(0,i._)("img",{src:tt.enterImage,alt:"",class:"img-fluid rounded mainImg"},null,8,r)]),(0,i._)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(tt.imagesList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-lg-6 col-3 secImg-box mt-4",key:t},[(0,i._)("a",{onMouseover:e=>st.changeEnterImage(t)},[(0,i._)("img",{src:t,class:"img-fluid rounded",alt:""},null,8,u)],40,g)])))),128))]),(0,i._)("div",m,[(0,i._)("div",h,[(0,i._)("h4",p,[(0,i._)("strong",null,(0,c.zw)(tt.tempProduct.title),1)]),(0,i._)("p",v,"售價：$"+(0,c.zw)(tt.tempProduct.price),1)]),(0,i._)("div",_,[(0,i._)("div",w,[(0,i._)("button",{class:"btn btn-btn-bg btn-xl btn-add-view m-1",disabled:this.status.loadingItem===tt.tempProduct.id,onClick:e[0]||(e[0]=t=>st.addCart(tt.tempProduct.id))},[this.status.loadingItem===tt.tempProduct.id?((0,i.wg)(),(0,i.iD)("div",f,y)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,b),(0,i._)("button",{class:"btn btn-btn-share-bg btn-share-view btn-xl m-1",onClick:e[1]||(e[1]=(...t)=>st.shareUrl&&st.shareUrl(...t)),disabled:this.status.loadingItem===tt.tempProduct.id},[(0,i.Uk)(" 分享 "),k],8,P)])])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(tt.contentList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-lg-3 text-center my-3 border bg-white",key:t},[(0,i._)("div",I,[(0,i._)("p",L,(0,c.zw)(t),1)])])))),128))]),(0,i._)("div",D,[(0,i._)("div",$,[(0,i._)("div",C,[(0,i._)("p",null,(0,c.zw)(tt.descriptionList[0]),1)])]),(0,i._)("div",j,[(0,i._)("img",{src:tt.images[2],alt:"",class:"img-fluid"},null,8,z)])]),(0,i._)("div",M,[(0,i._)("div",U,[(0,i._)("img",{src:tt.images[3],alt:"",class:"img-fluid"},null,8,H)]),(0,i._)("div",q,[(0,i._)("div",F,[(0,i._)("p",null,(0,c.zw)(tt.descriptionList[1]),1)])])]),(0,i._)("div",S,[(0,i._)("div",Y,[(0,i._)("div",K,[(0,i._)("p",null,(0,c.zw)(tt.descriptionList[2]),1)])]),(0,i._)("div",T,[(0,i._)("img",{src:tt.images[4],alt:"",class:"img-fluid"},null,8,E)])])]),tt.relatedProducts.length>0?((0,i.wg)(),(0,i.iD)("div",B,[(0,i._)("div",G,[W,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(tt.relatedProducts,((e,s)=>((0,i.wg)(),(0,i.iD)("div",(0,i.dG)({class:"col-sm-12 col-md-6 col-xl-3 py-2",key:e.Id},e),[(0,i._)("div",Z,[(0,i._)("div",{class:"card border border-white text-white text-left imgHover",onMouseenter:t=>st.enterFun(s),onMouseleave:t=>st.leaveFun(s),onClick:t=>st.relatedProduct(e.id)},[tt.showImage||tt.n!=s?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.images[0],alt:"",class:"img-cover imageSize",height:"300"},null,8,J)):((0,i.wg)(),(0,i.iD)("img",{key:1,src:e.images[1],alt:"",class:"img-cover imageSize",height:"300"},null,8,N))],40,A),(0,i._)("div",O,[(0,i._)("h5",Q,(0,c.zw)(e.title),1),(0,i._)("p",R,"售價："+(0,c.zw)(t.$filters.currency(e.price)),1),(0,i._)("button",{class:"btn btn-btn-bg btn-add-view btn-xl",disabled:this.status.loadingItem===e.id,onClick:t=>st.addCart(e.id)},[this.status.loadingItem===e.id?((0,i.wg)(),(0,i.iD)("div",X,et)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,V)])])],16)))),128))])])):(0,i.kq)("",!0)],64)}s(560);var it={data(){return{isLoading:!1,tempProduct:{},enterImage:"",id:"",status:{loadingItem:""},images:[],imagesList:[],contentList:{},descriptionList:{},relatedProducts:[],showImage:!0,n:0,elTop:0,share:""}},inject:["emitter"],methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/chaichai_api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.tempProduct=t.data.product,this.enterImage=this.tempProduct.imageUrl,this.images=this.tempProduct.images,this.imagesList=this.tempProduct.images.slice(5);const{content:e}=this.tempProduct;this.contentList=e.split("\n");const{description:s}=this.tempProduct;this.descriptionList=s.split("；"),this.same(this.tempProduct.category),this.isLoading=!1,this.$scroll.scrollTop()}))},addCart(t){const e="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(e,{data:s}).then((t=>{this.status.loadingItem="",console.log("Products",t),this.$httpMessageState(t,"加入購物車")}))},same(t){const e="https://vue3-course-api.hexschool.io/api/chaichai_api/products";this.$http.get(e).then((e=>{this.productList=e.data.products,this.relatedProducts=this.productList.filter((e=>e.category===t&&e.id!==this.tempProduct.id)),this.relatedProducts=this.relatedProducts.slice(0,4)}))},relatedProduct(t){this.$router.push(`/product/${t}`),this.id=t,this.getProduct()},enterFun(t){this.showImage=!1,this.n=t},leaveFun(t){this.showImage=!0,this.n=t},shareUrl(){navigator.clipboard.writeText(window.location.href).then((()=>{const t={data:{success:!0}};this.$httpMessageState(t,"複製連結")}))},changeEnterImage(t){this.enterImage=t}},created(){this.id=this.$route.params.productId,this.getProduct();let t=0;setInterval((()=>{this.enterImage=this.imagesList[t],t+=1,t>=this.imagesList.length&&(t=0)}),5e3)}},ct=s(89);const lt=(0,ct.Z)(it,[["render",st]]);var at=lt}}]);
//# sourceMappingURL=186.ec14bac5.js.map