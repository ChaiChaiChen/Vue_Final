"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[71],{5656:function(e,t,i){i.d(t,{Z:function(){return _}});var s=i(3396),a=i(7139),r=i(9242);const c={"aria-label":"Page navigation example"},l={class:"pagination justify-content-center"},o=(0,s._)("span",{"aria-hidden":"true"},"«",-1),n=[o],d=["onClick"],u=(0,s._)("span",{"aria-hidden":"true"},"»",-1),g=[u];function p(e,t,i,o,u,p){return(0,s.wg)(),(0,s.iD)("nav",c,[(0,s._)("ul",l,[(0,s._)("li",{class:(0,a.C_)(["page-item",{disabled:1===i.pages.current_page}])},[(0,s._)("a",{class:"page-link",href:"#",onClick:t[0]||(t[0]=(0,r.iM)((e=>p.updatePage(i.pages.current_page-1)),["prevent"])),"aria-label":"Previous"},n)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pages.total_pages,(e=>((0,s.wg)(),(0,s.iD)("li",{class:(0,a.C_)(["page-item",{active:e===i.pages.current_page}]),key:e},[(0,s._)("a",{class:"page-link",href:"#",onClick:(0,r.iM)((t=>p.updatePage(e)),["prevent"])},(0,a.zw)(e),9,d)],2)))),128)),(0,s._)("li",{class:(0,a.C_)(["page-item",{disabled:i.pages.current_page===i.pages.total_pages}])},[(0,s._)("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=(0,r.iM)((e=>p.updatePage(i.pages.current_page+1)),["prevent"])),"aria-label":"Next"},g)],2)])])}var h={props:["pages"],methods:{updatePage(e){console.log(e),this.$emit("emit-pages",e)}}},m=i(89);const v=(0,m.Z)(h,[["render",p]]);var _=v},9071:function(e,t,i){i.r(t),i.d(t,{default:function(){return L}});var s=i(3396),a=i(7139);const r=(0,s.uE)('<div id="carouselExampleIndicators" class="carousel slide mt-5" data-bs-ride="carousel"><div class="carousel-inner"><div class="carousel-item active"><img src="https://storage.googleapis.com/vue-course-api.appspot.com/chaichai_api/1706077315976.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&amp;Expires=1742169600&amp;Signature=D7%2BEdS2XnksgpFa1QOFNVE0MXXPJC8NCGx1JPzBv5QhXO0BV1fZS3dwdhI04MNzsxeblXDUEb8kyo0BLzgyqud0wg4Kj9c3fNbLbStXlVxGhofVrUYCul8uyes65R5dhMAQCe7lP0esqFKHTEsGatIloErJEUokuD2DUEFNA7aWYDMRAX0UD2efeuK2glXsbIS9uNlzS32Tw9JHpWMwp4pygOy1zVrg85OuVETeQ7UumA821mxIOeMHxZ74sKjimSAeyYNJbkJeY%2FOYUflqdcGcaZh2G6NUzELn3%2Bh5CvesxnVo504e5pXCmPyJHH%2BeaYY9EeJbaeIqeUc6RP2W1IA%3D%3D" class="img-fluid" alt="..."><div class="carousel-caption justify-content-center carousel-home-text"><h1 class="bannerText">安坐家中 <br> 樂享生活</h1></div></div></div></div>',1),c={class:"container"},l={class:"row"},o={class:"col"},n={class:"list-group list-group-horizontal justify-content-center mt-3"},d={class:"container"},u={class:"row mt-5 mb-5"},g={class:"card rounded-0"},p=["onMouseenter","onMouseleave","onClick"],h=["src"],m=["src"],v={class:"card-body text-center"},_={class:"card-img-title-lg"},f={class:"card-text"},k=["disabled","onClick"],b={key:0,class:"spinner-grow text-red spinner-grow-sm"},y=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),w=[y];function C(e,t,i,y,C,P){const x=(0,s.up)("Loading"),I=(0,s.up)("Pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[r,(0,s._)("div",c,[(0,s.Wm)(x,{active:C.isLoading},null,8,["active"]),(0,s._)("div",l,[(0,s._)("div",o,[(0,s._)("ul",n,[(0,s._)("li",{class:(0,a.C_)(["list-group-item",{active:"全部"===C.filterType}]),onClick:t[0]||(t[0]=e=>P.getFilter(C.filterType="全部"))},"全部商品",2),(0,s._)("li",{class:(0,a.C_)(["list-group-item",{active:"布質"===C.filterType}]),onClick:t[1]||(t[1]=e=>P.getFilter(C.filterType="布質"))},"布質沙發",2),(0,s._)("li",{class:(0,a.C_)(["list-group-item",{active:"半皮"===C.filterType}]),onClick:t[2]||(t[2]=e=>P.getFilter(C.filterType="半皮"))},"半皮沙發",2),(0,s._)("li",{class:(0,a.C_)(["list-group-item",{active:"全皮"===C.filterType}]),onClick:t[3]||(t[3]=e=>P.getFilter(C.filterType="全皮"))},"全皮沙發",2)])])])]),(0,s._)("div",d,[(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(C.relatedProducts,((t,i)=>((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({class:"col-sm-12 col-md-6 col-xl-4 py-2",key:t.Id},t),[(0,s._)("div",g,[(0,s._)("div",{class:"card border-white text-white text-left imgHover",onMouseenter:e=>P.enterFun(i),onMouseleave:e=>P.leaveFun(i),onClick:e=>P.getProduct(t.id)},[C.showImage||C.n!=i?((0,s.wg)(),(0,s.iD)("img",{key:0,src:t.images[0],class:"img-cover imgSize",height:"350"},null,8,h)):((0,s.wg)(),(0,s.iD)("img",{key:1,src:t.images[1],class:"img-cover imgSize",height:"350"},null,8,m))],40,p),(0,s._)("div",v,[(0,s._)("h5",_,(0,a.zw)(t.title),1),(0,s._)("p",f,"售價："+(0,a.zw)(e.$filters.currency(t.price)),1),(0,s._)("button",{class:"btn btn-btn-bg btn-add-view btn-xl",disabled:this.status.loadingItem===t.id,onClick:e=>P.addCart(t.id)},[this.status.loadingItem===t.id?((0,s.wg)(),(0,s.iD)("div",b,w)):(0,s.kq)("",!0),(0,s.Uk)(" 加入購物車")],8,k)])])],16)))),128))])]),(0,s.Wm)(I,{pages:C.pagination,onEmitPages:P.getProducts},null,8,["pages","onEmitPages"])],64)}i(560);var P=i(5656),x={data(){return{isLoading:!1,productList:[],status:{loadingItem:""},showImage:!0,relatedProducts:[],filterType:"全部",n:0,pagination:{}}},inject:["emitter"],components:{Pagination:P.Z},methods:{getProducts(){const e="https://vue3-course-api.hexschool.io/api/chaichai_api/products";this.isLoading=!0,this.$http.get(e).then((e=>{this.productList=e.data.products,this.pagination=e.data.pagination,this.relatedProducts=this.productList,console.log(this.productList),this.isLoading=!1}))},getFilter(){switch(this.filterType){case"全部":this.relatedProducts=this.productList;break;case"布質":this.relatedProducts=this.productList.filter((e=>"布質"===e.category));break;case"半皮":this.relatedProducts=this.productList.filter((e=>"半皮"===e.category));break;case"全皮":this.relatedProducts=this.productList.filter((e=>"全皮"===e.category));break;default:break}},getProduct(e){this.$router.push(`/product/${e}`)},addCart(e){const t="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=e;const i={product_id:e,qty:1};this.$http.post(t,{data:i}).then((e=>{this.status.loadingItem="",console.log("Products",e),this.$httpMessageState(e,"加入購物車")}))},enterFun(e){this.showImage=!1,this.n=e},leaveFun(e){this.showImage=!0,this.n=e}},created(){this.getProducts()}},I=i(89);const D=(0,I.Z)(x,[["render",C]]);var L=D}}]);
//# sourceMappingURL=71.d0c10b46.js.map