"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[101],{3101:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var i=s(3396),l=s(7139),r=s(9242);const a={class:"container"},d={class:"row mt-5"},n={class:"table mt-4"},o=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{width:"120"},"購買時間"),(0,i._)("th",{width:"120"},"Email"),(0,i._)("th",{width:"300"},"購買項目"),(0,i._)("th",{width:"120"},"應付金額"),(0,i._)("th",{width:"120"},"是否已付款"),(0,i._)("th",{width:"120"},"編輯")])],-1),c={class:"text-right"},h={class:"text-right"},u={key:0,class:"text-success"},p={key:1,class:"text-muted"},_={class:"btn-group"},w=["onClick"],g=["onClick"];function m(t,e,s,m,b,f){const v=(0,i.up)("DelModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",a,[(0,i._)("div",d,[(0,i._)("table",n,[o,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.orders,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,(0,l.zw)(t.$filters.date(e.create_at)),1),(0,i._)("td",null,(0,l.zw)(e.user.email),1),(0,i._)("td",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.products,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{key:e},(0,l.zw)(t.product.title)+" 數量："+(0,l.zw)(t.qty)+" "+(0,l.zw)(t.product.unit),1)))),128))]),(0,i._)("td",h,(0,l.zw)(t.$filters.currency(e.total)),1),(0,i._)("td",null,[e.is_paid?((0,i.wg)(),(0,i.iD)("span",u,"已付款")):((0,i.wg)(),(0,i.iD)("span",p,"未付款"))]),(0,i._)("td",null,[(0,i._)("div",_,[(0,i._)("button",{class:"btn btn-outline-primary btn-sm",onClick:(0,r.iM)((s=>t.openModal(e)),["prevent"])},"檢視",8,w),(0,i._)("button",{class:"btn btn-outline-danger btn-sm",onClick:(0,r.iM)((t=>f.openDelOrderModal(e)),["prevent"])}," 刪除 ",8,g)])])])))),128))])])])]),(0,i.Wm)(v,{item:b.tempOrder,ref:"delModal",onDelItem:f.delOrder},null,8,["item","onDelItem"])],64)}var b=s(5919),f={data(){return{orders:[],pagination:{},tempOrder:{}}},components:{DelModal:b.Z},methods:{getOrders(){const t="https://vue3-course-api.hexschool.io/api/chaichai_api/admin/orders";this.$http.get(t).then((t=>{t.data.success&&(this.orders=t.data.orders,console.log("order",this.orders),this.pagination=t.data.pagination)}))},openDelOrderModal(t){this.tempOrder={...t};const e=this.$refs.delModal;e.showModal()},delOrder(){const t=`https://vue3-course-api.hexschool.io/api/chaichai_api/admin/order/${this.tempOrder.id}`;this.$http.delete(t).then((t=>{if(t.data.success){console.log(t);const e=this.$refs.delModal;e.hideModal(),this.$httpMessageState(t,t.data.message),this.getOrders()}}))}},created(){this.getOrders()}},v=s(89);const D=(0,v.Z)(f,[["render",m]]);var M=D}}]);
//# sourceMappingURL=101.40bf0bba.js.map