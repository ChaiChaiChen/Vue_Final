"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[261],{8261:function(t,i,d){d.r(i),d.d(i,{default:function(){return g}});var s=d(3396),a=d(7139);const e=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{width:"120"},"圖片"),(0,s._)("th",{width:"120"},"商品名稱"),(0,s._)("th",{width:"120"},"價格"),(0,s._)("th",{width:"120"})])],-1),o=["src"],n=["disabled"],u={key:0,class:"spinner-grow text-red spinner-grow-sm"},l=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),r=[l];function c(t,i,d,l,c,h){return(0,s.wg)(),(0,s.iD)("table",null,[e,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("img",{src:c.tempProduct.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,o)]),(0,s._)("td",null,(0,a.zw)(c.tempProduct.title),1),(0,s._)("td",null,(0,a.zw)(c.tempProduct.price),1),(0,s._)("button",{class:"btn btn-outline-danger btn-sm",disabled:this.status.loadingItem===c.tempProduct.id,onClick:i[0]||(i[0]=t=>h.addCart(c.tempProduct.id))},[this.status.loadingItem===c.tempProduct.id?((0,s.wg)(),(0,s.iD)("div",u,r)):(0,s.kq)("",!0),(0,s.Uk)(" 加入購物車")],8,n)])])])}var h={data(){return{tempProduct:{},id:"",status:{loadingItem:""}}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/chaichai_api/product/${this.id}`;this.$http.get(t).then((t=>{console.log(t.data),this.tempProduct=t.data.product}))},addCart(t){const i="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=t;const d={product_id:t,qty:1};this.$http.post(i,{data:d}).then((t=>{this.status.loadingItem="",console.log("Products",t)}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},p=d(89);const m=(0,p.Z)(h,[["render",c]]);var g=m}}]);
//# sourceMappingURL=261.978068a2.js.map