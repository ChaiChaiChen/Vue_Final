"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[581],{3581:function(t,i,s){s.r(i),s.d(i,{default:function(){return w}});var n=s(3396),d=s(7139);const a={class:"container"},o={class:"row mt-4"},e={class:"col-md-7"},l={class:"table align-middle"},c=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{width:"120"},"圖片"),(0,n._)("th",{width:"120"},"商品名稱"),(0,n._)("th",{width:"120"},"價格"),(0,n._)("th",{width:"150"})])],-1),u={class:"btn-group"},r=["onClick"],h=["disabled","onClick"],p={key:0,class:"spinner-grow text-red spinner-grow-sm"},g=(0,n._)("span",{class:"visually-hidden"},"Loading...",-1),_=[g];function b(t,i,s,g,b,k){return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",o,[(0,n._)("div",e,[(0,n._)("table",l,[c,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(b.productList,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.id},[(0,n._)("td",null,[(0,n._)("div",{style:(0,d.j5)([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)]),(0,n._)("td",null,(0,d.zw)(t.title),1),(0,n._)("td",null,(0,d.zw)(t.price),1),(0,n._)("td",null,[(0,n._)("div",u,[(0,n._)("button",{class:"btn btn-outline-primary btn-sm",onClick:i=>k.getProduct(t.id)},"查看更多",8,r),(0,n._)("button",{class:"btn btn-outline-danger btn-sm",disabled:this.status.loadingItem===t.id,onClick:i=>k.addCart(t.id)},[this.status.loadingItem===t.id?((0,n.wg)(),(0,n.iD)("div",p,_)):(0,n.kq)("",!0),(0,n.Uk)(" 加入購物車")],8,h)])])])))),128))])])])])])}s(560);var k={data(){return{productList:[],status:{loadingItem:""}}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/chaichai_api/products";this.$http.get(t).then((t=>{this.productList=t.data.products,console.log(this.productList)}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t){const i="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(i,{data:s}).then((t=>{this.status.loadingItem="",console.log("Products",t)}))}},created(){this.getProducts()}},m=s(89);const v=(0,m.Z)(k,[["render",b]]);var w=v}}]);
//# sourceMappingURL=581.2008025a.js.map