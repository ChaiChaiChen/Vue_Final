"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[802],{7313:function(t,e,s){var i=s(1076),c=s(1020);e.Z=(0,c.Q_)("productStore",{state:()=>({products:[]}),getters:{productList:t=>t.products},actions:{getProducts(){return new Promise((async(t,e)=>{const s="https://vue3-course-api.hexschool.io/api/chaichai_api/products/all";try{const e=await i.Z.get(s);console.log(e),this.products=e.data.products,t()}catch(c){console.log(c),e()}}))}}})},9802:function(t,e,s){s.r(e),s.d(e,{default:function(){return z}});var i=s(3396),c=s(7139),a=s(9242);const r=(0,i.uE)('<div id="carouselExampleIndicators" class="carousel slide mt-5" data-bs-ride="carousel"><div class="carousel-inner"><div class="carousel-item active"><img src="https://storage.googleapis.com/vue-course-api.appspot.com/chaichai_api/1706077315976.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&amp;Expires=1742169600&amp;Signature=D7%2BEdS2XnksgpFa1QOFNVE0MXXPJC8NCGx1JPzBv5QhXO0BV1fZS3dwdhI04MNzsxeblXDUEb8kyo0BLzgyqud0wg4Kj9c3fNbLbStXlVxGhofVrUYCul8uyes65R5dhMAQCe7lP0esqFKHTEsGatIloErJEUokuD2DUEFNA7aWYDMRAX0UD2efeuK2glXsbIS9uNlzS32Tw9JHpWMwp4pygOy1zVrg85OuVETeQ7UumA821mxIOeMHxZ74sKjimSAeyYNJbkJeY%2FOYUflqdcGcaZh2G6NUzELn3%2Bh5CvesxnVo504e5pXCmPyJHH%2BeaYY9EeJbaeIqeUc6RP2W1IA%3D%3D" class="img-fluid" alt="..."><div class="carousel-caption justify-content-center carousel-home-text"><h1 class="bannerText">安坐家中 <br> 樂享生活</h1></div></div></div></div>',1),l={class:"container"},o={class:"row justify-content-center"},d={class:"col-12 col-lg-10"},n={class:"list-group list-group-horizontal justify-content-center mt-3"},u={class:"col-lg-2 col-8 mt-4"},h={class:"form-inline"},g={class:"container"},p={class:"row mt-3 mb-5"},m={class:"card rounded-0"},v=["onMouseenter","onMouseleave","onClick"],f=["src"],y=["src"],b={class:"card-body text-center bg-card"},_={class:"card-img-title-lg"},w={class:"card-text"},k=["disabled","onClick"],C={key:0,class:"spinner-grow text-red spinner-grow-sm"},P=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),x=[P];function I(t,e,s,P,I,L){const T=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i._)("div",l,[(0,i.Wm)(T,{active:I.isLoading},null,8,["active"]),(0,i._)("div",o,[(0,i._)("div",d,[(0,i._)("ul",n,[(0,i._)("li",{class:(0,c.C_)(["list-group-item",{active:"全部"===I.filterType}]),onClick:e[0]||(e[0]=t=>L.getFilter(I.filterType="全部"))},"全部商品",2),(0,i._)("li",{class:(0,c.C_)(["list-group-item",{active:"布質"===I.filterType}]),onClick:e[1]||(e[1]=t=>L.getFilter(I.filterType="布質"))},"布質沙發",2),(0,i._)("li",{class:(0,c.C_)(["list-group-item",{active:"半皮"===I.filterType}]),onClick:e[2]||(e[2]=t=>L.getFilter(I.filterType="半皮"))},"半皮沙發",2),(0,i._)("li",{class:(0,c.C_)(["list-group-item",{active:"全皮"===I.filterType}]),onClick:e[3]||(e[3]=t=>L.getFilter(I.filterType="全皮"))},"全皮沙發",2)])]),(0,i._)("div",u,[(0,i._)("form",h,[(0,i.wy)((0,i._)("input",{type:"search",class:"form-control",placeholder:"快速搜尋","aria-label":"Search","onUpdate:modelValue":e[4]||(e[4]=t=>I.search=t)},null,512),[[a.nr,I.search]])])])])]),(0,i._)("div",g,[(0,i._)("div",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(L.filterProducts,((e,s)=>((0,i.wg)(),(0,i.iD)("div",(0,i.dG)({class:"col-sm-12 col-md-6 col-xl-4 py-2",key:e.Id},e),[(0,i._)("div",m,[(0,i._)("div",{class:"card border-white text-white text-left imgHover",onMouseenter:t=>L.enterFun(s),onMouseleave:t=>L.leaveFun(s),onClick:t=>L.getProduct(e.id)},[I.showImage||I.n!=s?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.images[0],class:"img-cover imgSize",height:"350"},null,8,f)):((0,i.wg)(),(0,i.iD)("img",{key:1,src:e.images[1],class:"img-cover imgSize",height:"350"},null,8,y))],40,v),(0,i._)("div",b,[(0,i._)("h5",_,(0,c.zw)(e.title),1),(0,i._)("p",w,"售價："+(0,c.zw)(t.$filters.currency(e.price)),1),(0,i._)("button",{class:"btn btn-btn-bg btn-add-view btn-xl",disabled:this.status.loadingItem===e.id,onClick:t=>L.addCart(e.id)},[this.status.loadingItem===e.id?((0,i.wg)(),(0,i.iD)("div",C,x)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,k)])])],16)))),128))])])],64)}s(560);var L=s(1020),T=s(7313),D={data(){return{isLoading:!1,search:"",status:{loadingItem:""},showImage:!0,filterType:"全部",relatedProducts:[],n:0}},inject:["emitter"],computed:{...(0,L.rn)(T.Z,["productList"]),filterProducts(){return this.relatedProducts.filter((t=>t.title.match(this.search)))}},methods:{...(0,L.nv)(T.Z,["getProducts"]),getFilter(){switch(this.filterType){case"全部":this.relatedProducts=this.productList;break;case"布質":this.relatedProducts=this.productList.filter((t=>"布質"===t.category));break;case"半皮":this.relatedProducts=this.productList.filter((t=>"半皮"===t.category));break;case"全皮":this.relatedProducts=this.productList.filter((t=>"全皮"===t.category));break;default:break}},getProduct(t){this.$router.push(`/product/${t}`)},addCart(t){const e="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(e,{data:s}).then((t=>{this.status.loadingItem="",console.log("Products",t),this.$httpMessageState(t,"加入購物車")}))},enterFun(t){this.showImage=!1,this.n=t},leaveFun(t){this.showImage=!0,this.n=t}},async created(){try{await this.getProducts(),Object.keys(this.productList).length>0&&(this.relatedProducts=JSON.parse(JSON.stringify(this.productList)),this.$scroll.scrollTop())}catch(t){console.log(t)}}},F=s(89);const S=(0,F.Z)(D,[["render",I]]);var z=S}}]);
//# sourceMappingURL=802.1a84b549.js.map