{"version":3,"file":"js/802.1a84b549.js","mappings":"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","sources":["webpack://vue-final/./src/stores/frontend/productStore.js","webpack://vue-final/./src/views/frontend/UserProducts.vue","webpack://vue-final/./src/views/frontend/UserProducts.vue?feb6"],"sourcesContent":["import axios from 'axios';\nimport { defineStore } from 'pinia';\n\nexport default defineStore('productStore', {\n  state: () => ({\n    products: [],\n  }),\n  getters: {\n    productList: (state) => state.products,\n  },\n  actions: {\n    // this\n    getProducts() {\n      // eslint-disable-next-line no-async-promise-executor\n      return new Promise(async (resolve, reject) => {\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n        try {\n          const res = await axios.get(url);\n          console.log(res);\n          this.products = res.data.products;\n          resolve();\n        } catch (error) {\n          console.log(error);\n          // eslint-disable-next-line prefer-promise-reject-errors\n          reject();\n        }\n        // axios.get(url).then((response) => {\n        //   this.products = response.data.products;\n        //   console.log(response);\n        // });\n        // axios.get(url).then((response) => {\n        //   this.products = response.data.products;\n        //   console.log(response);\n        // });\n      });\n    },\n  },\n});\n","<!-- eslint-disable vuejs-accessibility/mouse-events-have-key-events -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<!-- eslint-disable vuejs-accessibility/form-control-has-label -->\n<!-- eslint-disable vuejs-accessibility/click-events-have-key-events -->\n<!-- eslint-disable vuejs-accessibility/alt-text -->\n<!-- eslint-disable max-len -->\n<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n<div id=\"carouselExampleIndicators\" class=\"carousel slide mt-5\" data-bs-ride=\"carousel\">\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\">\n      <img src=\"https://storage.googleapis.com/vue-course-api.appspot.com/chaichai_api/1706077315976.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=D7%2BEdS2XnksgpFa1QOFNVE0MXXPJC8NCGx1JPzBv5QhXO0BV1fZS3dwdhI04MNzsxeblXDUEb8kyo0BLzgyqud0wg4Kj9c3fNbLbStXlVxGhofVrUYCul8uyes65R5dhMAQCe7lP0esqFKHTEsGatIloErJEUokuD2DUEFNA7aWYDMRAX0UD2efeuK2glXsbIS9uNlzS32Tw9JHpWMwp4pygOy1zVrg85OuVETeQ7UumA821mxIOeMHxZ74sKjimSAeyYNJbkJeY%2FOYUflqdcGcaZh2G6NUzELn3%2Bh5CvesxnVo504e5pXCmPyJHH%2BeaYY9EeJbaeIqeUc6RP2W1IA%3D%3D\" class=\"img-fluid\" alt=\"...\">\n        <div class=\"carousel-caption justify-content-center carousel-home-text\">\n          <h1 class=\"bannerText\">安坐家中&emsp;<br>&emsp;樂享生活</h1>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n  <Loading :active=\"isLoading\"></Loading>\n    <div class=\"row justify-content-center\">\n      <div class=\"col-12 col-lg-10\">\n        <ul class=\"list-group list-group-horizontal justify-content-center mt-3\">\n          <li class=\"list-group-item\" :class=\"{ active: filterType === '全部' }\" @click=\"getFilter(filterType = '全部')\">全部商品</li>\n          <li class=\"list-group-item\" :class=\"{ active: filterType === '布質' }\" @click=\"getFilter(filterType = '布質')\">布質沙發</li>\n          <li class=\"list-group-item\" :class=\"{ active: filterType === '半皮' }\" @click=\"getFilter(filterType = '半皮')\">半皮沙發</li>\n          <li class=\"list-group-item\" :class=\"{ active: filterType === '全皮' }\" @click=\"getFilter(filterType = '全皮')\">全皮沙發</li>\n        </ul>\n      </div>\n      <div class=\"col-lg-2 col-8 mt-4\">\n        <form class=\"form-inline\">\n          <input type=\"search\" class=\"form-control\" placeholder=\"快速搜尋\" aria-label=\"Search\" v-model=\"search\">\n        </form>\n      </div>\n    </div>\n  </div>\n<div class=\"container\">\n  <div class=\"row mt-3 mb-5\">\n    <div class=\"col-sm-12 col-md-6 col-xl-4 py-2\" v-for=\"(product,index) in filterProducts\" :key=\"product.Id\" v-bind=\"product\">\n      <div class=\"card rounded-0\">\n        <!-- https://www.yisu.com/zixun/153224.html -->\n      <div class=\"card border-white text-white text-left imgHover\" @mouseenter=\"enterFun(index)\" @mouseleave=\"leaveFun(index)\" @click=\"getProduct(product.id)\">\n        <img v-if=\"showImage || n != index\" :src=\"product.images[0]\" class=\"img-cover imgSize\" height=\"350\">\n        <img v-else :src=\"product.images[1]\" class=\"img-cover imgSize\" height=\"350\">\n      </div>\n      <div class=\"card-body text-center bg-card\">\n        <h5 class=\"card-img-title-lg\">{{ product.title }}</h5>\n          <p class=\"card-text\">售價：{{ $filters.currency(product.price) }}</p>\n        <button class=\"btn btn-btn-bg btn-add-view btn-xl\"\n        :disabled =\"this.status.loadingItem === product.id\"\n        @click=\"addCart(product.id)\">\n        <div class=\"spinner-grow text-red spinner-grow-sm\" v-if=\"this.status.loadingItem === product.id\">\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n            加入購物車</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport productStore from '@/stores/frontend/productStore';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      search: '',\n      status: {\n        loadingItem: '', // 對應品項id\n      },\n      showImage: true, // hover顯示產品第二張照片\n      filterType: '全部', // 切換產品類別\n      relatedProducts: [],\n      n: 0,\n    };\n  },\n  inject: ['emitter'],\n  computed: {\n    ...mapState(productStore, ['productList']),\n    filterProducts() {\n      // eslint-disable-next-line array-callback-return\n      return this.relatedProducts.filter((item) => item.title.match(this.search));\n    },\n  },\n  // watch: {\n  //   productList: {\n  //     deep: true,\n  // 當元件建立好，就立即執行一次此函式\n  //     immediate: true,\n  //     handler(value) {\n  //       console.log(value);\n  //       if (Object.keys(value).length > 0) {\n  //         this.relatedProducts = JSON.parse(JSON.stringify(value));\n  //       }\n  //     },\n  //   },\n  // },\n  methods: {\n    ...mapActions(productStore, ['getProducts']),\n    getFilter() { // 切換產品\n      switch (this.filterType) {\n        case '全部':\n          this.relatedProducts = this.productList;\n          break;\n        case '布質':\n          this.relatedProducts = this.productList.filter((item) => item.category === '布質');\n          break;\n        case '半皮':\n          this.relatedProducts = this.productList.filter((item) => item.category === '半皮');\n          break;\n        case '全皮':\n          this.relatedProducts = this.productList.filter((item) => item.category === '全皮');\n          break;\n        default:\n          break;\n      }\n    },\n    getProduct(id) { // 取得產品id切換到該產品頁面\n      this.$router.push(`/product/${id}`);\n    },\n    addCart(id) { // 加入購物車\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id; // 取得產品id\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart }).then((response) => {\n        this.status.loadingItem = '';\n        console.log('Products', response);\n        this.$httpMessageState(response, '加入購物車');\n      });\n    },\n    enterFun(index) {\n      this.showImage = false;\n      this.n = index;\n    },\n    leaveFun(index) {\n      this.showImage = true;\n      this.n = index;\n    },\n  },\n\n  async created() {\n    try {\n      await this.getProducts();\n      if (Object.keys(this.productList).length > 0) {\n        this.relatedProducts = JSON.parse(JSON.stringify(this.productList));\n        this.$scroll.scrollTop();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n</script>\n","import { render } from \"./UserProducts.vue?vue&type=template&id=446cebcb\"\nimport script from \"./UserProducts.vue?vue&type=script&lang=js\"\nexport * from \"./UserProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["defineStore","state","products","getters","productList","actions","getProducts","Promise","async","resolve","reject","url","res","axios","get","console","log","this","data","error","class","_createElementVNode","_hoisted_19","_hoisted_1","_hoisted_2","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_3","_hoisted_4","_hoisted_5","_normalizeClass","filterType","onClick","_cache","$event","$options","getFilter","_hoisted_6","_hoisted_7","type","placeholder","search","_hoisted_8","_hoisted_9","_createElementBlock","_Fragment","_renderList","filterProducts","product","index","_mergeProps","key","Id","_hoisted_10","onMouseenter","enterFun","onMouseleave","leaveFun","getProduct","id","showImage","n","src","images","height","_hoisted_14","_hoisted_15","_toDisplayString","title","_hoisted_16","_ctx","$filters","currency","price","disabled","status","loadingItem","addCart","_hoisted_18","_hoisted_20","relatedProducts","inject","computed","mapState","productStore","filter","item","match","methods","mapActions","category","$router","push","cart","product_id","qty","$http","post","then","response","$httpMessageState","created","Object","keys","length","JSON","parse","stringify","$scroll","scrollTop","__exports__","render"],"sourceRoot":""}