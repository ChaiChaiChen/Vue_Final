"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[142],{7142:function(t,s,e){e.r(s),e.d(s,{default:function(){return ct}});var i=e(3396),l=e(9242),c=e(7139);const o=(0,i._)("div",{class:"coupon-container bg-theme text-white text-center d-flex align-items-center justify-content-center",style:{"margin-top":"85px",height:"40px"}},[(0,i._)("div",{class:"coupon-content"},"現在輸入優惠碼：95%  享有95折優惠")],-1),a={class:"container-fluid"},n={class:"row align-items-center bg-gray"},d={class:"col-md-6 gx-0 mt-5"},r={class:"col d-flex justify-content-center"},g=["src"],m={class:"col d-flex justify-content-center"},u=["onClick"],h=["src"],p={class:"col-md-6 d-flex justify-content-start gx-0 mt-md-3"},v={class:"d-flex flex-column m-4"},_={class:"font-md-l fw-bold mb-3"},w={class:"mb-5 fs-5 text-theme"},b={class:"btn-group",role:"group","aria-label":"Basic example"},x=["disabled"],f={key:0,class:"spinner-grow text-red spinner-grow-sm"},y=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),k=[y],P=["disabled"],I=(0,i._)("i",{class:"bi bi-share"},null,-1),L={class:"row align-items-center"},C={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},D={class:"d-flex flex-column ms-4 content lh-lg"},z={class:"col-md-6 gx-0 order-1 order-md-2"},$=["src"],j={class:"row align-items-center bg-gray"},U={class:"col-md-6 gx-0"},T=["src"],H={class:"col-md-6 d-flex gx-0"},M={class:"d-flex flex-column justify-content-center content ms-4 ms-lg-5 lh-lg"},Y={class:"row align-items-center"},q={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},F={class:"d-flex flex-column ms-4 content lh-lg"},E={class:"col-md-6 gx-0 order-1 order-md-2"},K=["src"],S={key:0,class:"container mt-5 mb-5"},B={class:"row"},G=(0,i._)("h3",{class:"text-center mb-4"},"相關產品",-1),O={class:"card rounded-0"},W=["onMouseenter","onMouseleave","onClick"],Z=["src"],A=["src"],J={class:"card-body text-center"},N={class:"card-img-title-lg"},Q={class:"card-text"},R=["disabled","onClick"],V={key:0,class:"spinner-grow text-red spinner-grow-sm"},X=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),tt=[X];function st(t,s,e,y,X,st){const et=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(et,{active:X.isLoading},null,8,["active"]),o,(0,i._)("div",a,[(0,i._)("div",n,[(0,i._)("div",d,[(0,i._)("div",r,[(0,i._)("img",{src:X.enterImage,alt:"",class:"img-fluid",style:{height:"480px"}},null,8,g)]),(0,i._)("div",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.imagesList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"secImg-box m-3",key:t},[(0,i._)("a",{href:"#",onClick:(0,l.iM)((s=>st.changeEnterImage(t)),["prevent"])},[(0,i._)("img",{src:t,style:{height:"140px"},alt:""},null,8,h)],8,u)])))),128))])]),(0,i._)("div",p,[(0,i._)("div",v,[(0,i._)("h4",_,(0,c.zw)(X.tempProduct.title),1),(0,i._)("p",w,"售價：$"+(0,c.zw)(X.tempProduct.price),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.contentList,(t=>((0,i.wg)(),(0,i.iD)("p",{key:t},(0,c.zw)(t),1)))),128)),(0,i._)("div",b,[(0,i._)("button",{class:"btn btn-btn-bg btn-xl btn-add-view m-1",disabled:this.status.loadingItem===X.tempProduct.id,onClick:s[0]||(s[0]=t=>st.addCart(X.tempProduct.id))},[this.status.loadingItem===X.tempProduct.id?((0,i.wg)(),(0,i.iD)("div",f,k)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,x),(0,i._)("button",{class:"btn btn-btn-share-bg btn-share-view btn-xl m-1",onClick:s[1]||(s[1]=(...t)=>st.shareUrl&&st.shareUrl(...t)),disabled:this.status.loadingItem===X.tempProduct.id},[(0,i.Uk)(" 分享 "),I],8,P)])])])]),(0,i._)("div",L,[(0,i._)("div",C,[(0,i._)("div",D,[(0,i._)("p",null,(0,c.zw)(X.descriptionList[0]),1)])]),(0,i._)("div",z,[(0,i._)("img",{src:X.images[2],alt:"",class:"img-fluid"},null,8,$)])]),(0,i._)("div",j,[(0,i._)("div",U,[(0,i._)("img",{src:X.images[3],alt:"",class:"img-fluid"},null,8,T)]),(0,i._)("div",H,[(0,i._)("div",M,[(0,i._)("p",null,(0,c.zw)(X.descriptionList[1]),1)])])]),(0,i._)("div",Y,[(0,i._)("div",q,[(0,i._)("div",F,[(0,i._)("p",null,(0,c.zw)(X.descriptionList[2]),1)])]),(0,i._)("div",E,[(0,i._)("img",{src:X.images[4],alt:"",class:"img-fluid"},null,8,K)])])]),X.relatedProducts.length>0?((0,i.wg)(),(0,i.iD)("div",S,[(0,i._)("div",B,[G,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.relatedProducts,((t,s)=>((0,i.wg)(),(0,i.iD)("div",(0,i.dG)({class:"col-sm-12 col-md-6 col-xl-3 py-2",key:t.Id},t),[(0,i._)("div",O,[(0,i._)("div",{class:"card border border-white text-white text-left imgHover",onMouseenter:t=>st.enterFun(s),onMouseleave:t=>st.leaveFun(s),onClick:s=>st.relatedProduct(t.id)},[X.showImage||X.n!=s?((0,i.wg)(),(0,i.iD)("img",{key:0,src:t.images[0],alt:"",class:"img-cover imageSize",height:"300"},null,8,Z)):((0,i.wg)(),(0,i.iD)("img",{key:1,src:t.images[1],alt:"",class:"img-cover imageSize",height:"300"},null,8,A))],40,W),(0,i._)("div",J,[(0,i._)("h5",N,(0,c.zw)(t.title),1),(0,i._)("p",Q,"售價："+(0,c.zw)(t.price),1),(0,i._)("button",{class:"btn btn-btn-bg btn-add-view btn-xl",disabled:this.status.loadingItem===t.id,onClick:s=>st.addCart(t.id)},[this.status.loadingItem===t.id?((0,i.wg)(),(0,i.iD)("div",V,tt)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,R)])])],16)))),128))])])):(0,i.kq)("",!0)],64)}e(560);var et={data(){return{isLoading:!1,tempProduct:{},enterImage:"",id:"",status:{loadingItem:""},images:[],imagesList:[],contentList:{},descriptionList:{},relatedProducts:[],showImage:!0,n:0,elTop:0,share:""}},mounted(){window.addEventListener("scroll",this.scrolling)},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/chaichai_api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.tempProduct=t.data.product,this.enterImage=this.tempProduct.imageUrl,this.images=this.tempProduct.images,this.imagesList=this.tempProduct.images.slice(5);const{content:s}=this.tempProduct;this.contentList=s.split("\n");const{description:e}=this.tempProduct;this.descriptionList=e.split("；"),this.same(this.tempProduct.category),this.isLoading=!1,this.scrollTop()}))},addCart(t){const s="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=t;const e={product_id:t,qty:1};this.$http.post(s,{data:e}).then((t=>{this.status.loadingItem="",console.log("Products",t)}))},same(t){const s="https://vue3-course-api.hexschool.io/api/chaichai_api/products";this.$http.get(s).then((s=>{this.productList=s.data.products,this.relatedProducts=this.productList.filter((s=>s.category===t&&s.id!==this.tempProduct.id)),console.log(this.relatedProducts)}))},relatedProduct(t){this.$router.push(`/product/${t}`),this.id=t,this.getProduct()},enterFun(t){this.showImage=!1,this.n=t},leaveFun(t){this.showImage=!0,this.n=t},scrollTop(){window.scrollTo({top:0,behavior:"smooth"})},scrolling(){const t=window.pageYOffset;this.elTop=t},shareUrl(){navigator.clipboard.writeText(window.location.href).then((()=>{console.log("分享")}))},changeEnterImage(t){this.enterImage=t}},created(){this.id=this.$route.params.productId,this.getProduct()}},it=e(89);const lt=(0,it.Z)(et,[["render",st]]);var ct=lt}}]);
//# sourceMappingURL=142.b1f017f0.js.map