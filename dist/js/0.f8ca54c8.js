"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[0],{2e3:function(t,e,s){s.r(e),s.d(e,{default:function(){return lt}});var i=s(3396),l=s(7139);const c=(0,i._)("div",{class:"coupon-container bg-theme text-white text-center d-flex align-items-center justify-content-center",style:{"margin-top":"85px",height:"40px"}},[(0,i._)("div",{class:"coupon-content"},"現在輸入優惠碼：95%  享有95折優惠")],-1),a={class:"container-fluid"},o={class:"row align-items-center bg-gray"},n={class:"col-md-6 gx-0 mt-5"},d={class:"col d-flex justify-content-center"},r=["src"],g={class:"col d-flex justify-content-center"},m=["onMouseover"],u=["src"],h={class:"col-md-6 d-flex justify-content-start gx-0 mt-md-3"},p={class:"d-flex flex-column m-4"},v={class:"font-md-l fw-bold mb-3"},_={class:"mb-5 fs-5 text-theme"},w={class:"btn-group",role:"group","aria-label":"Basic example"},b=["disabled"],x={key:0,class:"spinner-grow text-red spinner-grow-sm"},f=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),y=[f],P=["disabled"],k=(0,i._)("i",{class:"bi bi-share"},null,-1),I={class:"row align-items-center"},L={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},D={class:"d-flex flex-column ms-4 content lh-lg"},C={class:"col-md-6 gx-0 order-1 order-md-2"},$=["src"],z={class:"row align-items-center bg-gray"},j={class:"col-md-6 gx-0"},M=["src"],U={class:"col-md-6 d-flex gx-0"},T={class:"d-flex flex-column justify-content-center content ms-4 ms-lg-5 lh-lg"},H={class:"row align-items-center"},Y={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},q={class:"d-flex flex-column ms-4 content lh-lg"},F={class:"col-md-6 gx-0 order-1 order-md-2"},S=["src"],E={key:0,class:"container mt-5 mb-5"},K={class:"row"},B=(0,i._)("h3",{class:"text-center mb-4"},"相關產品",-1),G={class:"card rounded-0"},O=["onMouseenter","onMouseleave","onClick"],W=["src"],Z=["src"],A={class:"card-body text-center"},J={class:"card-img-title-lg"},N={class:"card-text"},Q=["disabled","onClick"],R={key:0,class:"spinner-grow text-red spinner-grow-sm"},V=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),X=[V];function tt(t,e,s,f,V,tt){const et=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(et,{active:V.isLoading},null,8,["active"]),c,(0,i._)("div",a,[(0,i._)("div",o,[(0,i._)("div",n,[(0,i._)("div",d,[(0,i._)("img",{src:V.enterImage,alt:"",class:"img-fluid",style:{height:"480px"}},null,8,r)]),(0,i._)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(V.imagesList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"secImg-box m-3",key:t},[(0,i._)("a",{onMouseover:e=>tt.changeEnterImage(t)},[(0,i._)("img",{src:t,style:{height:"140px"},alt:""},null,8,u)],40,m)])))),128))])]),(0,i._)("div",h,[(0,i._)("div",p,[(0,i._)("h4",v,(0,l.zw)(V.tempProduct.title),1),(0,i._)("p",_,"售價：$"+(0,l.zw)(V.tempProduct.price),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(V.contentList,(t=>((0,i.wg)(),(0,i.iD)("p",{key:t},(0,l.zw)(t),1)))),128)),(0,i._)("div",w,[(0,i._)("button",{class:"btn btn-btn-bg btn-xl btn-add-view m-1",disabled:this.status.loadingItem===V.tempProduct.id,onClick:e[0]||(e[0]=t=>tt.addCart(V.tempProduct.id))},[this.status.loadingItem===V.tempProduct.id?((0,i.wg)(),(0,i.iD)("div",x,y)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,b),(0,i._)("button",{class:"btn btn-btn-share-bg btn-share-view btn-xl m-1",onClick:e[1]||(e[1]=(...t)=>tt.shareUrl&&tt.shareUrl(...t)),disabled:this.status.loadingItem===V.tempProduct.id},[(0,i.Uk)(" 分享 "),k],8,P)])])])]),(0,i._)("div",I,[(0,i._)("div",L,[(0,i._)("div",D,[(0,i._)("p",null,(0,l.zw)(V.descriptionList[0]),1)])]),(0,i._)("div",C,[(0,i._)("img",{src:V.images[2],alt:"",class:"img-fluid"},null,8,$)])]),(0,i._)("div",z,[(0,i._)("div",j,[(0,i._)("img",{src:V.images[3],alt:"",class:"img-fluid"},null,8,M)]),(0,i._)("div",U,[(0,i._)("div",T,[(0,i._)("p",null,(0,l.zw)(V.descriptionList[1]),1)])])]),(0,i._)("div",H,[(0,i._)("div",Y,[(0,i._)("div",q,[(0,i._)("p",null,(0,l.zw)(V.descriptionList[2]),1)])]),(0,i._)("div",F,[(0,i._)("img",{src:V.images[4],alt:"",class:"img-fluid"},null,8,S)])])]),V.relatedProducts.length>0?((0,i.wg)(),(0,i.iD)("div",E,[(0,i._)("div",K,[B,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(V.relatedProducts,((e,s)=>((0,i.wg)(),(0,i.iD)("div",(0,i.dG)({class:"col-sm-12 col-md-6 col-xl-3 py-2",key:e.Id},e),[(0,i._)("div",G,[(0,i._)("div",{class:"card border border-white text-white text-left imgHover",onMouseenter:t=>tt.enterFun(s),onMouseleave:t=>tt.leaveFun(s),onClick:t=>tt.relatedProduct(e.id)},[V.showImage||V.n!=s?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.images[0],alt:"",class:"img-cover imageSize",height:"300"},null,8,W)):((0,i.wg)(),(0,i.iD)("img",{key:1,src:e.images[1],alt:"",class:"img-cover imageSize",height:"300"},null,8,Z))],40,O),(0,i._)("div",A,[(0,i._)("h5",J,(0,l.zw)(e.title),1),(0,i._)("p",N,"售價："+(0,l.zw)(t.$filters.currency(e.price)),1),(0,i._)("button",{class:"btn btn-btn-bg btn-add-view btn-xl",disabled:this.status.loadingItem===e.id,onClick:t=>tt.addCart(e.id)},[this.status.loadingItem===e.id?((0,i.wg)(),(0,i.iD)("div",R,X)):(0,i.kq)("",!0),(0,i.Uk)(" 加入購物車")],8,Q)])])],16)))),128))])])):(0,i.kq)("",!0)],64)}s(560);var et={data(){return{isLoading:!1,tempProduct:{},enterImage:"",id:"",status:{loadingItem:""},images:[],imagesList:[],contentList:{},descriptionList:{},relatedProducts:[],showImage:!0,n:0,elTop:0,share:""}},inject:["emitter"],mounted(){window.addEventListener("scroll",this.scrolling)},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/chaichai_api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.tempProduct=t.data.product,this.enterImage=this.tempProduct.imageUrl,this.images=this.tempProduct.images,this.imagesList=this.tempProduct.images.slice(5);const{content:e}=this.tempProduct;this.contentList=e.split("\n");const{description:s}=this.tempProduct;this.descriptionList=s.split("；"),this.same(this.tempProduct.category),this.isLoading=!1,this.scrollTop()}))},addCart(t){const e="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(e,{data:s}).then((t=>{this.status.loadingItem="",console.log("Products",t),this.$httpMessageState(t,"加入購物車")}))},same(t){const e="https://vue3-course-api.hexschool.io/api/chaichai_api/products";this.$http.get(e).then((e=>{this.productList=e.data.products,this.relatedProducts=this.productList.filter((e=>e.category===t&&e.id!==this.tempProduct.id)),console.log(this.relatedProducts)}))},relatedProduct(t){this.$router.push(`/product/${t}`),this.id=t,this.getProduct()},enterFun(t){this.showImage=!1,this.n=t},leaveFun(t){this.showImage=!0,this.n=t},scrollTop(){window.scrollTo({top:0,behavior:"smooth"})},scrolling(){const t=window.pageYOffset;this.elTop=t},shareUrl(){navigator.clipboard.writeText(window.location.href).then((()=>{const t={data:{success:!0}};this.$httpMessageState(t,"複製連結")}))},changeEnterImage(t){this.enterImage=t}},created(){this.id=this.$route.params.productId,this.getProduct();let t=0;setInterval((()=>{this.enterImage=this.imagesList[t],t+=1,t>=this.imagesList.length&&(t=0)}),5e3)}},st=s(89);const it=(0,st.Z)(et,[["render",tt]]);var lt=it}}]);
//# sourceMappingURL=0.f8ca54c8.js.map