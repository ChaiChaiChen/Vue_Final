"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[745],{4745:function(t,s,i){i.r(s),i.d(s,{default:function(){return T}});var e=i(3396),c=i(7139);const d={class:"container-fluid mt-5"},a={class:"row align-items-center bg-gray"},l={class:"col-md-6 gx-0"},o=["src"],n={class:"col-md-6 d-flex justify-content-start gx-0"},r={class:"d-flex flex-column m-5 ps-md-5"},u={class:"font-md-l fw-bold mb-3"},m={class:"mb-5 fs-5 text-theme"},g={class:"col"},h=["disabled"],p={key:0,class:"spinner-grow text-red spinner-grow-sm"},v=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),_=[v],b=["disabled"],w=(0,e._)("i",{class:"bi bi-share"},null,-1),f={class:"row align-items-center"},x={class:"col-md-6 d-flex justify-content-center gx-0 order-2 order-md-1"},P={class:"d-flex flex-column mr-5 ms-5 content"},k={class:"col-md-6 gx-0 order-1 order-md-2"},y=["src"],L={class:"row align-items-center bg-gray"},I={class:"col-md-6 gx-0"},D=["src"],C={class:"col-md-6 d-flex justify-content-center gx-0"},z={class:"d-flex flex-column content ms-md-5 ps-5"},$={class:"container"},H={class:"row"},F=["src"],M={class:"container mt-5 mb-5"},U={class:"row"},Y=(0,e._)("h3",{class:"text-center"},"相關產品",-1),j={class:"card rounded-0"},q=["onMouseenter","onMouseleave","onClick"],K=["src"],S=["src"],G={class:"card-body text-center"},W={class:"card-img-title-lg"},Z={class:"card-text"},A=["disabled","onClick"],B={key:0,class:"spinner-grow text-red spinner-grow-sm"},E=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),J=[E];function N(t,s,i,v,E,N){const O=(0,e.up)("Loading");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(O,{active:E.isLoading},null,8,["active"]),(0,e._)("div",d,[(0,e._)("div",a,[(0,e._)("div",l,[(0,e._)("img",{src:E.tempProduct.imageUrl,alt:"",class:"img-fluid"},null,8,o)]),(0,e._)("div",n,[(0,e._)("div",r,[(0,e._)("h4",u,(0,c.zw)(E.tempProduct.title),1),(0,e._)("p",m,"售價：$"+(0,c.zw)(E.tempProduct.price),1),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(E.contentList,(t=>((0,e.wg)(),(0,e.iD)("p",{key:t},(0,c.zw)(t),1)))),128)),(0,e._)("div",g,[(0,e._)("button",{class:"btn btn-btn-bg btn-xl btn-view",disabled:this.status.loadingItem===E.tempProduct.id,onClick:s[0]||(s[0]=t=>N.addCart(E.tempProduct.id))},[this.status.loadingItem===E.tempProduct.id?((0,e.wg)(),(0,e.iD)("div",p,_)):(0,e.kq)("",!0),(0,e.Uk)(" 加入購物車")],8,h),(0,e._)("button",{class:"btn btn-outline-primary btn-xl",disabled:this.status.loadingItem===E.tempProduct.id},[(0,e.Uk)(" 分享 "),w],8,b)])])])]),(0,e._)("div",f,[(0,e._)("div",x,[(0,e._)("div",P,[(0,e._)("p",null,(0,c.zw)(E.descriptionList[0]),1)])]),(0,e._)("div",k,[(0,e._)("img",{src:E.images[2],alt:"",class:"img-fluid"},null,8,y)])]),(0,e._)("div",L,[(0,e._)("div",I,[(0,e._)("img",{src:E.images[3],alt:"",class:"img-fluid"},null,8,D)]),(0,e._)("div",C,[(0,e._)("div",z,[(0,e._)("p",null,(0,c.zw)(E.descriptionList[1]),1)])])])]),(0,e._)("div",$,[(0,e._)("div",H,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(E.imagesList,((t,s)=>((0,e.wg)(),(0,e.iD)("div",{class:"col-lg-3 col-md-6 mt-3 mb-3",key:`image${s}`},[(0,e._)("img",{src:t,alt:"",class:"img-fluid"},null,8,F)])))),128))])]),(0,e._)("div",M,[(0,e._)("div",U,[Y,((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(E.relatedProducts,((t,s)=>((0,e.wg)(),(0,e.iD)("div",(0,e.dG)({class:"col-sm-12 col-md-6 col-xl-3 py-2",key:t.Id},t),[(0,e._)("div",j,[(0,e._)("div",{class:"card border border-white text-white text-left imgHover",onMouseenter:t=>N.enterFun(s),onMouseleave:t=>N.leaveFun(s),onClick:s=>N.relatedProduct(t.id)},[E.showImage||E.n!=s?((0,e.wg)(),(0,e.iD)("img",{key:0,src:t.images[0],alt:"",class:"img-cover imageSize",height:"300"},null,8,K)):((0,e.wg)(),(0,e.iD)("img",{key:1,src:t.images[1],alt:"",class:"img-cover imageSize",height:"300"},null,8,S))],40,q),(0,e._)("div",G,[(0,e._)("h5",W,(0,c.zw)(t.title),1),(0,e._)("p",Z,"售價："+(0,c.zw)(t.price),1),(0,e._)("button",{class:"btn btn-btn-bg btn-view btn-xl",disabled:this.status.loadingItem===t.id,onClick:s=>N.addCart(t.id)},[this.status.loadingItem===t.id?((0,e.wg)(),(0,e.iD)("div",B,J)):(0,e.kq)("",!0),(0,e.Uk)(" 加入購物車")],8,A)])])],16)))),128))])])],64)}i(560);var O={data(){return{isLoading:!1,tempProduct:{},id:"",status:{loadingItem:""},images:[],imagesList:[],contentList:{},descriptionList:{},relatedProducts:[],showImage:!0,n:0}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/chaichai_api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.tempProduct=t.data.product,this.images=this.tempProduct.images,this.imagesList=this.tempProduct.images.slice(4);const{content:s}=this.tempProduct;this.contentList=s.split("\n");const{description:i}=this.tempProduct;this.descriptionList=i.split("；"),this.same(this.tempProduct.category),this.isLoading=!1}))},addCart(t){const s="https://vue3-course-api.hexschool.io/api/chaichai_api/cart";this.status.loadingItem=t;const i={product_id:t,qty:1};this.$http.post(s,{data:i}).then((t=>{this.status.loadingItem="",console.log("Products",t)}))},same(t){const s="https://vue3-course-api.hexschool.io/api/chaichai_api/products";this.$http.get(s).then((s=>{this.productList=s.data.products,this.relatedProducts=this.productList.filter((s=>s.category===t&&s.id!==this.tempProduct.id)),console.log(this.relatedProducts)}))},relatedProduct(t){this.$router.push(`/product/${t}`),this.id=t,this.getProduct()},enterFun(t){this.showImage=!1,this.n=t},leaveFun(t){this.showImage=!0,this.n=t}},created(){this.id=this.$route.params.productId,this.getProduct()}},Q=i(89);const R=(0,Q.Z)(O,[["render",N]]);var T=R}}]);
//# sourceMappingURL=745.260fe260.js.map