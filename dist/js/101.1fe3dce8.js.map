{"version":3,"file":"js/101.1fe3dce8.js","mappings":"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","sources":["webpack://vue-final/./src/views/backend/Orders.vue","webpack://vue-final/./src/views/backend/Orders.vue?657d"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <div class=\"container\">\n    <div class=\"row mt-5\">\n    <table class=\"table mt-4\">\n        <thead>\n            <tr>\n                <th width=\"120\">購買時間</th>\n                <th width=\"120\">Email</th>\n                <th width=\"300\">購買項目</th>\n                <th width=\"120\">應付金額</th>\n                <th width=\"120\">是否已付款</th>\n                <th width=\"120\">編輯</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"order in orders\" :key=\"order.id\">\n                <td>{{ $filters.date(order.create_at) }}</td>\n                <td>{{ order.user.email }}</td>\n                <td class=\"text-right\">\n                  <div v-for=\"(product, i ) in order.products\" :key=\"i\">\n                    {{ product.product.title }}\n                    數量：{{ product.qty }}\n                    {{ product.product.unit }}\n                  </div>\n                </td>\n                <td class=\"text-right\">{{ $filters.currency(order.total) }}</td>\n                <td>\n                    <span class=\"text-success\" v-if=\"order.is_paid\">已付款</span>\n                    <span class=\"text-muted\" v-else>未付款</span>\n                </td>\n                <td>\n                    <div class=\"btn-group\">\n                        <button class=\"btn btn-outline-primary btn-sm\"\n                        @click.prevent=\"openModal(order)\"\n                        >檢視</button>\n                    <button class=\"btn btn-outline-danger btn-sm\"\n                     @click.prevent=\"openDelOrderModal(order)\">\n                      刪除\n                    </button>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n  </div>\n  </div>\n  <DelModal :item=\"tempOrder\" ref=\"delModal\" @del-item=\"delOrder\"></DelModal>\n</template>\n<script>\nimport DelModal from '../../components/DelModal.vue';\n\nexport default {\n  data() {\n    return {\n      orders: [],\n      pagination: {},\n      tempOrder: {},\n    };\n  },\n  components: {\n    DelModal,\n  },\n  methods: {\n    getOrders() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.orders = res.data.orders;\n            console.log('order', this.orders);\n            this.pagination = res.data.pagination;\n          }\n        });\n    },\n    openDelOrderModal(item) {\n      this.tempOrder = { ...item };\n      const delComponent = this.$refs.delModal;\n      delComponent.showModal();\n    },\n    delOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\n      this.$http.delete(url).then((response) => {\n        if (response.data.success) {\n          console.log(response);\n          const delComponent = this.$refs.delModal;\n          delComponent.hideModal();\n          this.$httpMessageState(response, response.data.message);\n          this.getOrders();\n        }\n      });\n    },\n  },\n  created() {\n    this.getOrders();\n  },\n};\n</script>\n","import { render } from \"./Orders.vue?vue&type=template&id=5bb2299d\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","orders","order","key","id","_toDisplayString","_ctx","$filters","date","create_at","user","email","_hoisted_5","products","product","i","title","qty","unit","_hoisted_6","currency","total","is_paid","_hoisted_7","_hoisted_8","_hoisted_9","onClick","_withModifiers","$event","openModal","_hoisted_10","$options","openDelOrderModal","_hoisted_11","_createVNode","_component_DelModal","item","tempOrder","ref","onDelItem","delOrder","data","pagination","components","DelModal","methods","getOrders","api","this","$http","get","then","res","success","console","log","delComponent","$refs","delModal","showModal","url","delete","response","hideModal","$httpMessageState","message","created","__exports__","render"],"sourceRoot":""}